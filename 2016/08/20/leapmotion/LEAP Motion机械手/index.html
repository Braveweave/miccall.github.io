<!DOCTYPE HTML>
<html>

<head>
	<link rel="bookmark"  type="image/x-icon"  href="/img/logo_miccall.png"/>
	<link rel="shortcut icon" href="/img/logo_miccall.png">
	
			    <title>
    Mr.Metro
    </title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="/css/mic_main.css" />
    <link rel="stylesheet" href="/css/dropdownMenu.css" />
    <meta name="keywords" content="miccall" />
    
    	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	 
    <noscript>
        <link rel="stylesheet" href="/css/noscript.css" />
    </noscript>
    <style type="text/css">
        body:before {
          content: ' ';
          position: fixed;
          top: 0;
          background: url('/img/bg.jpg') center 0 no-repeat;
          right: 0;
          bottom: 0;
          left: 0;
          background-size: cover; 
        }
    </style>

			    
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script async type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.scrollex.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script src="/js/skel.min.js"></script>
    <script src="/js/util.js"></script>
    <script src="/js/main.js"></script>
	
<link rel="stylesheet" href="/css/prism-coy.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>
    
		
<!-- Layouts -->



<!--  代码渲染  -->
<link rel="stylesheet" href="/css/prism_coy.css" />
<link rel="stylesheet" href="/css/typo.css" />
<!-- 文章页 -->
<body class="is-loading">
    <!-- Wrapper 外包 s-->
    <div id="wrapper" class="fade-in">
        <!-- Intro 头部显示 s -->
        <!-- Intro 头部显示 e -->
        <!-- Header 头部logo start -->
        <header id="header">
    <a href="/" class="logo">MICCALL</a>
</header>
        <!-- Nav 导航条 start -->
        <nav id="nav" class="special" >
            <ul class="menu links" >
			<!-- Homepage  主页  --> 
			<li >
	            <a href="/" rel="nofollow">主页</a>
	        </li>
			<!-- categories_name  分类   --> 
	        
	        <li class="active">
	            <a href="#s1">分类</a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="category-link" href="/categories/Algorithm/">Algorithm</a></li><li><a class="category-link" href="/categories/Design/">Design</a></li><li><a class="category-link" href="/categories/Unity-3D/">Unity 3D</a>
	                    </ul>
	        </li>
	        
	        <!-- archives  归档   --> 
	        
	        
		        <!-- Pages 自定义   -->
		        
		        <li>
		            <a href="/about/" title="简历">
		                简历
		            </a>
		        </li>
		        
		        <li>
		            <a href="/group/" title="团队">
		                团队
		            </a>
		        </li>
		        
		        <li>
		            <a href="/gallery/" title="图库">
		                图库
		            </a>
		        </li>
		        
		        <li>
		            <a href="/tag/" title="标签">
		                标签
		            </a>
		        </li>
		        


            </ul>
            <!-- icons 图标   -->
			<ul class="icons">
		            
		                <li><a href="https://github.com/miccall" class="icon fa-github"><span class="label">GitHub</span></a></li>
		            
		            
		            
		            
			</ul>
</nav>

        <div id="main" >
            <div class ="post_page_title_img" style="height: 25rem;background-image: url(http://img.blog.csdn.net/20170915225201518?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvWmhhbmdSZWxheQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast);background-position: center; background-repeat:no-repeat; background-size:cover;-moz-background-size:cover;overflow:hidden;" >
                <a href="#" style="padding: 4rem 4rem 2rem 4rem ;"><h2 >LEAPMotion机械手</h2></a>
            </div>
            <!-- Post -->
            <div class="typo" style="padding: 3rem;">
                <h6 id="Created-by-miccall-转载请注明出处-miccall-tech"><a href="#Created-by-miccall-转载请注明出处-miccall-tech" class="headerlink" title="Created by miccall  (转载请注明出处  miccall.tech)"></a>Created by miccall  (转载请注明出处  <a href="http://miccall.tech">miccall.tech</a>)</h6><blockquote>
<p>介绍智能机械手的控制系统，从主动控制和自动检测两方面完成智能化，主动控制运用leapmotion+HV_hand ,自动检测运用多传感器对压力，触感，滑动，震动等数据的分析，自动辅助机械手的操作。</p>
</blockquote>
<h3 id="一-Leap-motion输入系统"><a href="#一-Leap-motion输入系统" class="headerlink" title="一. Leap-motion输入系统"></a>一. Leap-motion输入系统</h3><h4 id="1-噪声抑制方法"><a href="#1-噪声抑制方法" class="headerlink" title="1. 噪声抑制方法"></a>1. 噪声抑制方法</h4><p>尽管Leap motion的轨迹跟踪精度达到亚毫米级别，但是他的采集设备，是两个640 * 240的高帧率摄像头。<br>使用过程中，难免产生不稳定。器件的分辨率，热磁噪声，人手抖动，视觉遮挡，以及数值解算的奇异值等可能引入噪声信号。<br>为解决滤波问题采用的自适应截止频率低通滤波方法，通过手掌掌心点的速度实时改变滤波器的截至频率。<br>所谓自适应滤波，就是利用前一是时刻已经获得的滤波器参数，自动调节当前时刻的参数。具体的公式为</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"> H`<span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=</span> a <span class="token function">H</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">-</span>a<span class="token punctuation">)</span> H`<span class="token punctuation">(</span>i<span class="token number">-1</span><span class="token punctuation">)</span> 
 <span class="token comment" spellcheck="true">// H` 就是最后得出的平滑向量</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>他是由上一帧的平滑向量和当前帧的实时向量同时决定的<br>参数a的计算方法:</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"> a <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span>t<span class="token operator">/</span>T<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 其中 t = 1 / 2Πf </span>

 f <span class="token operator">=</span> fc <span class="token operator">+</span> B<span class="token operator">|</span> V <span class="token operator">|</span> 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>a的范围是[ 0 , 1 ] ,它由周期 T 时间常数 t 计算,f为截止频率。 V 是 H 的导数 。<br>代表手掌运动的线性速度 。<br>B 是一个系数 ，取0.5 ， fc = 1Hz   。</p>
<p>部分代码如下 </p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">LowPassFilter</span><span class="token operator">:</span>Filter<span class="token punctuation">{</span>
<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> prevACC<span class="token punctuation">;</span>
    <span class="token keyword">double</span> factor <span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token operator">:</span>
    <span class="token function">LowPassFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>factor <span class="token operator">=</span> <span class="token number">0.01</span> <span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">LowPassFilter</span><span class="token punctuation">(</span><span class="token keyword">double</span> factor<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>factor <span class="token operator">=</span> factor <span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    override <span class="token keyword">void</span> <span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>prevAcc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">double</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span><span class="token number">0.0</span><span class="token punctuation">,</span><span class="token number">0.0</span><span class="token punctuation">,</span><span class="token number">0.0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    override <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">filterAlorithm</span><span class="token punctuation">(</span><span class="token keyword">double</span> vector<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">double</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> retVal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        retVal<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> vector<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>factor <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>prevACC<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1.0</span> <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>factor<span class="token punctuation">)</span><span class="token punctuation">;</span>

        retVal<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> vector<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>factor <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>prevACC<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1.0</span> <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>factor<span class="token punctuation">)</span><span class="token punctuation">;</span>

        retVal<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> vector<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>factor <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>prevACC<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1.0</span> <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>factor<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>prevACC <span class="token operator">=</span> retVal <span class="token punctuation">;</span>
        <span class="token keyword">return</span> retVal<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>其次就是获取手的数据。</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
<span class="token keyword">using</span> <span class="token keyword">namespace</span> Leap<span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">LeapROSListener</span><span class="token operator">:</span> <span class="token keyword">public</span> Listener <span class="token punctuation">{</span>
    <span class="token keyword">public</span><span class="token operator">:</span>
        <span class="token comment" spellcheck="true">// 方法的声明 </span>
        <span class="token function">LeapROSListener</span><span class="token punctuation">(</span>ros<span class="token operator">::</span>NodeHandle <span class="token operator">&amp;</span>nh<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">onInit</span><span class="token punctuation">(</span><span class="token keyword">const</span> Controller<span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">onConnect</span><span class="token punctuation">(</span><span class="token keyword">const</span> Controller<span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">onDisconnect</span><span class="token punctuation">(</span><span class="token keyword">const</span> Controller<span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">onExit</span><span class="token punctuation">(</span><span class="token keyword">const</span> Controller<span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">processFrame</span><span class="token punctuation">(</span><span class="token keyword">const</span> Frame<span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span><span class="token operator">:</span>
        ros<span class="token operator">::</span>Publisher hand_info_pub<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>主函数中 ，只有新生成一个LeapROSListener ，用于监听数据，就可以了。</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
    LeapROSListener <span class="token function">listener</span><span class="token punctuation">(</span>nh<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Leap<span class="token operator">::</span>Controller controller<span class="token punctuation">;</span>
    ros<span class="token operator">::</span>Rate <span class="token function">loop_rate</span><span class="token punctuation">(</span>refresh_rate<span class="token punctuation">)</span><span class="token punctuation">;</span>

    controller<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">while</span><span class="token punctuation">(</span>ros<span class="token operator">::</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        listener<span class="token punctuation">.</span><span class="token function">processFrame</span><span class="token punctuation">(</span>controller<span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ros<span class="token operator">::</span><span class="token function">spinOnce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        loop_rate<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="2-API映射"><a href="#2-API映射" class="headerlink" title="2. API映射"></a>2. API映射</h4><p>用户手部姿态的的变化将映射到实体，从而驱动模型再6个自由度运动。ros控制器接口传入手指以及方向信息</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">Public <span class="token operator">:</span>
  <span class="token keyword">float</span>   Period <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token number">1f</span>
  IHandModel  HandModel <span class="token operator">=</span> null
  Finger<span class="token punctuation">.</span>FingerType   FingerName <span class="token operator">=</span> Finger<span class="token punctuation">.</span>FingerType<span class="token punctuation">.</span>TYPE_INDEX
  PointingType  PointingType <span class="token operator">=</span> PointingType<span class="token punctuation">.</span>RelativeToHorizon
  Vector3   PointingDirection <span class="token operator">=</span> Vector3<span class="token punctuation">.</span>forward
  Transform   TargetObject <span class="token operator">=</span> null
  <span class="token keyword">float</span>   OnAngle <span class="token operator">=</span> <span class="token number">15f</span>
  <span class="token keyword">float</span>   OffAngle <span class="token operator">=</span> <span class="token number">25f</span>
  <span class="token keyword">bool</span>  ShowGizmos <span class="token operator">=</span> <span class="token boolean">true</span>
  Vector3 FingerName<span class="token punctuation">.</span>Dirction
  Transform   palm
  Transform   forearm
  Transform   wristJoint
  Transform   elbowJoint
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>自定义接口方法</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
Vector3   <span class="token function">TipPosition</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Vector3   <span class="token function">JointPosition</span> <span class="token punctuation">(</span><span class="token keyword">int</span> joint<span class="token punctuation">)</span><span class="token punctuation">;</span>
Vector3   <span class="token function">BoneCenter</span> <span class="token punctuation">(</span><span class="token keyword">int</span> bone_type<span class="token punctuation">)</span><span class="token punctuation">;</span>
Vector3   <span class="token function">BoneDirection</span> <span class="token punctuation">(</span><span class="token keyword">int</span> bone_type<span class="token punctuation">)</span><span class="token punctuation">;</span>
Quaternion  <span class="token function">BoneRotation</span> <span class="token punctuation">(</span><span class="token keyword">int</span> bone_type<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span>   <span class="token function">BoneLength</span> <span class="token punctuation">(</span><span class="token keyword">int</span> bone_type<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span>   <span class="token function">BoneWidth</span> <span class="token punctuation">(</span><span class="token keyword">int</span> bone_type<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span>   <span class="token function">FingerJointStretchMecanim</span> <span class="token punctuation">(</span><span class="token keyword">int</span> joint_type<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">float</span>   <span class="token function">FingerJointSpreadMecanim</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="4-性能分析"><a href="#4-性能分析" class="headerlink" title="4. 性能分析"></a>4. 性能分析</h4><h3 id="二-ROS机械系统"><a href="#二-ROS机械系统" class="headerlink" title="二. ROS机械系统"></a>二. ROS机械系统</h3><h4 id="1-模型"><a href="#1-模型" class="headerlink" title="1. 模型"></a>1. 模型</h4><h4 id="2-运动描述"><a href="#2-运动描述" class="headerlink" title="2. 运动描述"></a>2. 运动描述</h4><p>用户手部姿态的变化将映射到体数据,从而驱动体数据在虚拟空间做6个自由度运动。<br>空间态和位置解算是3维交互中非常重要的部分,准确的姿态解算能为下出个交互阶段提供可靠输入。<br>利用用户手部运动数据对体数据进行6个自由度交互映身射,位置信息由掌心点归一化坐标可以得到,而手掌姿态则需要通过计算旋转矩阵获得。<br>为了获得稳定的手掌姿态信息,采用基手四元数的姿态弹法从手外科学关节活动度来看,<br>用户手学旋转组厦非精有限料本文采用非同构的旋转探制大角度旋转.</p>
<h4 id="3-算法："><a href="#3-算法：" class="headerlink" title="3. 算法："></a>3. 算法：</h4><p>步骤1 通过Leap motion传感器获得当前跟踪的指尖向量d1,d2,d3,d4,d5以及手掌法向量Ni,<br>并计算指尖向量的和在向量Ni的垂面上的投影分量,记为Di<br>步骤2 通过向量Ni和上一帧的手掌法向量Ni-1,计算相应的旋转四元数QNi<br>步骤3 按照QNi 计算相应的旋转矩阵CNi,并通过CNi将上一帧向量Di-1旋转至向量Di-1,若Di-1与 D 不重合则计算它们之间的旋转四元数QDi<br>步驟4 将四元数QDi左乘QNi 得第i-1 和 i 的四数△Q ,通过公式更新当元数Q.。在公式中,引入控制比例因子 K ，调节k改变帧间四元数△Q<br>在计算Q时的计算权重,从而实现非同构的3D旋转,本文根据Leviral的操控需求取经验值k=25<br>步骤5 根据当前四元数Q=(q0 q1 q2 g3 )来确定手掌姿态矩阵C</p>
<h4 id="3-模块配置"><a href="#3-模块配置" class="headerlink" title="3. 模块配置"></a>3. 模块配置</h4><h4 id="4-控制器接口"><a href="#4-控制器接口" class="headerlink" title="4. 控制器接口"></a>4. 控制器接口</h4><h4 id="5-人机交互"><a href="#5-人机交互" class="headerlink" title="5. 人机交互"></a>5. 人机交互</h4><h3 id="三-Arduino控制器"><a href="#三-Arduino控制器" class="headerlink" title="三. Arduino控制器"></a>三. Arduino控制器</h3><h3 id="四-多传感器数据整合"><a href="#四-多传感器数据整合" class="headerlink" title="四. 多传感器数据整合"></a>四. 多传感器数据整合</h3><h4 id="1-介绍"><a href="#1-介绍" class="headerlink" title="1 . 介绍"></a>1 . 介绍</h4><p>我们在仿生手的五个手指尖端，贴合感应传感器 FSR 。</p>
<blockquote>
<p>Force Sensing Resistor 是著名Interlink Electronics 公司生产的一款重量轻，体积小，感测精度高，超薄型电阻式压力传感器。</p>
</blockquote>
<p><img src="http://onh0umlhz.bkt.clouddn.com/20171030RB-02S054-FSR402%200_5%20%284%29.jpg" alt=""></p>
<p>它的材料是PVDF(聚偏氟乙烯)，可以将施加在FSR传感器薄膜区域的压力转换成电阻值的变化，从而获得压力信息。压力越大，电阻越低。它允许用在压力100g-10kg的场合。</p>
<h4 id="2-功能"><a href="#2-功能" class="headerlink" title="2. 功能"></a>2. 功能</h4><p>利用传感器的数据，将所有信号进行分析，融合与处理，我们可以保证他在接触不同的物体时，能够对不同的物体进行不同的力度控制，使易碎品保持完好，高温物体自动弹开等。</p>
<h4 id="3-设计方案"><a href="#3-设计方案" class="headerlink" title="3. 设计方案"></a>3. 设计方案</h4><p>系统由采集单元，信号处理，采样保持电路 A/D转换单元，中央处理单元，机械手等部分组成。</p>
<p>传感器的信号，传入的电荷，通过范围传输会损耗，一般的做法都是置入电荷放大器作为放大电路。其二，他的工作范围时30Hz以下，电源使用的是50Hz，信号会受到工频的干扰，我们还要在第二级加入低通巴特沃兹有源滤波器，去掉干扰和高频噪声。在此之后，我们再加一个额外的电路放大器，提高灵敏度和降低中央处理采集的误差。</p>
<p>机械手试抓，触发手指的传感器与物体接触，顺序分析 温度，触觉，滑动，震动。<br>具体判断过程如图。直到物体抓取稳定。</p>
<p>数据融合 ，通过A/D 采样之后，我们得到的传感器数据，反应的是手指的压电信号，机械手综合物体的空间抓握以及手指的触觉信号，分析物体的大致形状，分析滑动趋势，获得下一步指令。</p>
<h4 id="4-测试与数据分析"><a href="#4-测试与数据分析" class="headerlink" title="4. 测试与数据分析"></a>4. 测试与数据分析</h4><pre><code>&lt;iframe height=498 width=510 src=&#39;http://player.youku.com/embed/XMjQzMzc1ODA0&#39; frameborder=0 &#39;allowfullscreen&#39;&gt;&lt;/iframe&gt;
</code></pre><h4 id="5-部分代码"><a href="#5-部分代码" class="headerlink" title="5.部分代码"></a>5.部分代码</h4><pre class="line-numbers language-c"><code class="language-c">
<span class="token keyword">int</span> fsrPin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">// A0 接口</span>
<span class="token keyword">int</span> fsrReading<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  fsrReading <span class="token operator">=</span> <span class="token function">analogRead</span><span class="token punctuation">(</span>fsrPin<span class="token punctuation">)</span><span class="token punctuation">;</span>
  Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Analog reading = "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>fsrReading<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>fsrReading <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">" - No pressure"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>fsrReading <span class="token operator">&lt;</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">" - Light touch"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>fsrReading <span class="token operator">&lt;</span> <span class="token number">500</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">" - Light squeeze"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>fsrReading <span class="token operator">&lt;</span> <span class="token number">800</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">" - Medium squeeze"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">" - Big squeeze"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="6-操作逻辑图"><a href="#6-操作逻辑图" class="headerlink" title="6. 操作逻辑图"></a>6. 操作逻辑图</h4><h4 id="7-测试结果"><a href="#7-测试结果" class="headerlink" title="7. 测试结果"></a>7. 测试结果</h4><h3 id="五-参考文献"><a href="#五-参考文献" class="headerlink" title="五.参考文献"></a>五.参考文献</h3><p><a href="https://pan.baidu.com/s/1o8iMtfG" target="_blank" rel="external">https://pan.baidu.com/s/1o8iMtfG</a>   密码 : y4km</p>
<ol>
<li>基于多传感器数据融合的机械手研究</li>
<li>基于手势识别的装配机器人控制系统研发</li>
<li>气动类机器人仿生手设计</li>
</ol>

            </div>

            <!-- Post Comments -->
            
    <!-- 使用 DISQUS_CLICK -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>

<!-- add animation -->
<style>
	.disqus_click_btn {
            line-height: 30px;
            margin: 0;
            min-width: 50px;
            padding: 0 14px;
            display: inline-block;
            font-family: "Roboto", "Helvetica", "Arial", sans-serif;
            font-size: 14px;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0;
            overflow: hidden;
            will-change: box-shadow;
            transition: box-shadow .2s cubic-bezier(.4, 0, 1, 1), background-color .2s cubic-bezier(.4, 0, .2, 1), color .2s cubic-bezier(.4, 0, .2, 1);
            outline: 0;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            vertical-align: middle;
            border: 0;
            background: rgba(158, 158, 158, .2);
            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 3px 1px -2px rgba(0, 0, 0, .2), 0 1px 5px 0 rgba(0, 0, 0, .12);
            color: #fff;
            background-color: #7EC0EE;
            text-shadow: 0
        }
</style>
	
<div class="btn_click_load" id="disqus_bt"> 
    <button class="disqus_click_btn">点击查看评论</button>
</div>

<!--
<script type="text/javascript">
$('.btn_click_load').click(function() {
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'http-miccall-tech'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    document.getElementById('disqus_bt').style.display = "none";
});
</script>
-->
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://miccall.tech/2016/08/20/leapmotion/LEAP Motion机械手/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://miccall.tech/2016/08/20/leapmotion/LEAP Motion机械手/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>

<script type="text/javascript">
    $('.btn_click_load').click(function() {  //click to load comments
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document;
            var s = d.createElement('script');
            s.src = '//http-miccall-tech.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
        })();
        $('.btn_click_load').css('display','none');
    });
</script>
</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>


        </div>
        <!-- Copyright 版权 start -->
                <div id="copyright">
            <ul>
                <li>&copy;Powered By <a href="https://hexo.io/zh-cn/" style="border-bottom: none;">hexo</a></li>
                <li>Design: <a href="http://miccall.tech " style="border-bottom: none;">miccall</a></li>
            </ul>
            
            	<span id="busuanzi_container_site_pv">2018总访问量<span id="busuanzi_value_site_pv"></span>次</span>
			
        </div>
    </div>
</body>



 	
</html>
