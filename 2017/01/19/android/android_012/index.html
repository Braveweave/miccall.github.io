<!DOCTYPE html>
<html lang="zh">
    <head>
    <!-- 
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.3.0 -->

    <!-- Title -->
    
    <title>
        
            Android学习笔记 012 | 
        
        Mr.Metro
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/logo_miccall.png">
    <link rel="icon" sizes="192x192" href="/img/logo_miccall.png">
    <link rel="apple-touch-icon" href="/img/logo_miccall.png">

    <!-- Meta & Info -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="miccall">
    <meta name="description" content="Blog of miccall is records about my work">
    <meta name="keywords" content="miccall,android">

    <!--iOS -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Mr.Metro">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://miccall.tech">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Android学习笔记 012 | Mr.Metro">
    <meta property="og:description" content="Blog of miccall is records about my work">
    <meta property="og:article:tag" content="android"> 

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import CSS -->
    <link rel="stylesheet" href="/css/material.min.css">
    <link rel="stylesheet" href="/css/style.min.css">
    <!-- Config CSS -->


<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #7EC0EE !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #7EC0EE !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #7EC0EE !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }
</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-image: url(/img/bg.png);
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>



    <script src="/js/jquery.min.js"></script>
    <script src="/js/queue.js"></script>

    <!-- UC Browser Compatible -->
    <script>
        var agent = navigator.userAgent.toLowerCase();
        if(agent.indexOf('ucbrowser')>0) {
            document.write("<link rel=\"stylesheet\" href=\"/css/uc.css\">");
            alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
        }
    </script>

    

    

    <!-- Bing Background -->
    

    <!-- Custom Head -->
    
</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Android学习笔记"><span class="post-toc-number">1.</span> <span class="post-toc-text"> Android学习笔记 </span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#加锁解锁"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">加锁解锁</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#监听用户打开程序"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">监听用户打开程序</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#解锁界面优化"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">解锁界面优化</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#解锁操作-重点-发送广播"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">解锁操作#  (重点:发送广播)</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#两个bug解决方案-重点-启动模式"><span class="post-toc-number">1.5.</span> <span class="post-toc-text">两个bug解决方案#  (重点:启动模式)</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#数据库优化-重点-内容观察者"><span class="post-toc-number">1.6.</span> <span class="post-toc-text">数据库优化#  (重点:内容观察者)</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#获取短信"><span class="post-toc-number">1.7.</span> <span class="post-toc-text">获取短信</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#备份短信-重点-创建xml文件"><span class="post-toc-number">1.8.</span> <span class="post-toc-text">备份短信#  (重点:创建xml文件)</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#备份效果-重点-progressdialog-回调函数"><span class="post-toc-number">1.9.</span> <span class="post-toc-text">备份效果#  (重点:progressdialog+回调函数)</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#短信还原"><span class="post-toc-number">1.10.</span> <span class="post-toc-text">短信还原</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#可扩展的listview"><span class="post-toc-number">1.11.</span> <span class="post-toc-text">可扩展的listview</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#抽屉效果-重点"><span class="post-toc-number">1.12.</span> <span class="post-toc-text">抽屉效果#  (重点)</span></a></li></ol></li></ol>

        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script>
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').css('background-image', 'url(' + '/img/random/material-' + randomNum + '.png' + ')');
</script>

        
    
            <p class="article-headline-p">
                Android学习笔记 012
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/BA201701210404530018-00-000000.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>miccall</strong>
        <span>1月 19, 2017</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
            <i class="material-icons" role="presentation">devices other</i>
            <span class="visuallyhidden">devices other</span>
        </button>
        <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
            <li class="mdl-menu__item">在其它设备中阅读本文章</li>
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACXklEQVR42u3aQXKDQAwEQP7/6eQBie2RxC6Yak6uVAA1h2UZ6fh59HHg4eHh4eHh4eHdjHfEx9+z/rl08P/vzz2hNjw8PLwtvA9LbVzQ+7Jy0qQ2PDw8vJ28VwVVfycL/fsXSa82PDw8vDvzkhLzJb56Xzw8PLxn8PItch5w4OHh4d2fl3zwV8vtnXtZ1oKHh4cX8/Im0/7fW/t7eHh4eAGvPNIUP4Jo+1tsd5WHrvDw8PAW8PKFuDciUB3kmtSDh4eHdxWvOlaVDAHk0UZv+AAPDw9vJy8vvRfs5i+VXgRc/mLAw8PDO4lXXeh7AwG9LfhodAAPDw9vMS+nVgPZ6ghXDsPDw8Pbz+st8fk2d1RoHOzi4eHhXcXrDQpUI4Z5nFEII/Dw8PAW85JRqklwMDkrb7Ph4eHh7eFVh6XyeHcS9TY3+nh4eHiLeXl7qRoWJENXkzACDw8P7yreBNB7DSTgaosODw8Pbz8vX9CrIUVSdG8YCw8PD+8qXrJA5yNTvceRvwaic/Hw8PAW8/JBqN7muDeG1XvceHh4eDt51QBi0gxL7pU80OZMGR4eHt4CXrW5de6ynrw8mik1Hh4e3jLeJJbNI4k55uXf8fDw8BbzeuUmmEmjqxol4+Hh4e3kHfGRLPrJSEG+ZW823vDw8PC28CaN/GQpzwG9bTceHh7eVbxkie81xvJBhMk18fDw8O7Pm8QQ1Tvi4eHhfTsvX9aT7XV+r+gDAA8PD28jb9L0qo5VTRpmH66Jh4eHt4XXiwDmkWu+aS4MGeDh4eEt5j3vwMPDw8PDw8PDu8HxC/VCPtrFdgiQAAAAAElFTkSuQmCC">
        </ul>
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/android/">android</a>
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    
        
            <!-- Busuanzi Views -->
            <a class="post_share-link" href="#">
                <li class="mdl-menu__item">
                    <span id="busuanzi_container_page_pv">
                        <span id="busuanzi_value_page_pv"></span>&nbsp;浏览量
                    </span>
                </li>
            </a>
        
    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=Android学习笔记 012&url=http://miccall.tech//2017/01/19/android/android_012/index.html&pic=&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=Android学习笔记 012&url=http://miccall.tech//2017/01/19/android/android_012/index.html&via=miccall" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://miccall.tech//2017/01/19/android/android_012/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=Mr.Metro&title=Android学习笔记 012&summary=Blog of miccall is records about my work&pics=http://miccall.tech/img/logo_miccall.png&url=http://miccall.tech/2017/01/19/android/android_012/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <hr>
<h1 id="Android学习笔记"><a href="#Android学习笔记" class="headerlink" title=" Android学习笔记 "></a><strong> Android学习笔记 </strong></h1><h2 id="加锁解锁"><a href="#加锁解锁" class="headerlink" title="加锁解锁"></a>加锁解锁</h2><pre><code>1.在item的布局文件中增加imageview
2.在getview中判断是否加锁
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">//判断应用程序是加锁还是解锁</div><div class="line">if (watchDogDao.queryLockApp(appInfo.getPackagName())) &#123;</div><div class="line">    //加锁</div><div class="line">    viewHolder.iv_itemsoftmanager_islock.setImageResource(R.drawable.lock);</div><div class="line">&#125;else&#123;</div><div class="line">    //解锁</div><div class="line">    viewHolder.iv_itemsoftmanager_islock.setImageResource(R.drawable.unlock);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<pre><code>3.使用长按点击事件实现加锁解锁
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 长按点击事件</div><div class="line"> */</div><div class="line">private void listviewItemLongClick() &#123;</div><div class="line">    lv_softmanager_application.setOnItemLongClickListener(new OnItemLongClickListener() &#123;</div><div class="line">    </div><div class="line">        @Override</div><div class="line">        public boolean onItemLongClick(AdapterView&lt;?&gt; parent, View view,</div><div class="line">                int position, long id) &#123;</div><div class="line">            System.out.println(&quot;长按点击事件&quot;);</div><div class="line">            //true if the callback consumed the long click, false otherwise</div><div class="line">            //true:表示执行  false:拦截</div><div class="line">            //加锁解锁的操作</div><div class="line">            //屏蔽用户和系统程序(..个)不能加锁解锁操作</div><div class="line">            if (position == 0 || position == userappinfo.size()+1) &#123;</div><div class="line">                return true;</div><div class="line">            &#125;</div><div class="line">            //获取数据</div><div class="line">            if (position &lt;= userappinfo.size()) &#123;</div><div class="line">                //用户程序</div><div class="line">                appInfo = userappinfo.get(position-1);</div><div class="line">            &#125;else&#123;</div><div class="line">                //系统程序</div><div class="line">                appInfo = systemappinfo.get(position - userappinfo.size() - 2);</div><div class="line">            &#125;</div><div class="line">            //加锁解锁</div><div class="line">            ViewHolder viewHolder = (ViewHolder) view.getTag();</div><div class="line">            //判断应用有没有加锁,有的解锁,没有的加锁</div><div class="line">            if (watchDogDao.queryLockApp(appInfo.getPackagName())) &#123;</div><div class="line">                //解锁操作</div><div class="line">                watchDogDao.deleteLockApp(appInfo.getPackagName());</div><div class="line">                viewHolder.iv_itemsoftmanager_islock.setImageResource(R.drawable.unlock);</div><div class="line">            &#125;else&#123;</div><div class="line">                //加锁操作</div><div class="line">                watchDogDao.addLockApp(appInfo.getPackagName());</div><div class="line">                viewHolder.iv_itemsoftmanager_islock.setImageResource(R.drawable.lock);</div><div class="line">            &#125;</div><div class="line">            //myadapter.notifyDataSetChanged();</div><div class="line">            return true;</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="监听用户打开程序"><a href="#监听用户打开程序" class="headerlink" title="监听用户打开程序"></a>监听用户打开程序</h2><pre><code>1.创创建解锁界面
2.在服务中,监听用户打开程序的操作中,通过查询数据库的方式判断打开的应用程序是否加锁
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">//通过查询数据库,如果数据库中有,弹出解锁界面,没有不作处理</div><div class="line">        if (watchDogDao.queryLockApp(packageName)) &#123;</div><div class="line">            //弹出解锁界面</div><div class="line">            Intent intent = new Intent(WatchDogService.this,WatchDogActivity.class);</div><div class="line">            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);</div><div class="line">            startActivity(intent);</div><div class="line">        &#125;</div></pre></td></tr></table></figure>
<pre><code>3.在解锁界面点击返回键,重复弹出解锁界面
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">@Override</div><div class="line">public boolean onKeyDown(int keyCode, KeyEvent event) &#123;</div><div class="line">    if (keyCode == KeyEvent.KEYCODE_BACK) &#123;</div><div class="line">        /**</div><div class="line">         * Starting: Intent &#123; </div><div class="line">           act=android.intent.action.MAIN </div><div class="line">           cat=[android.intent.category.HOME</div><div class="line">           ] cmp=com.android.launcher/com.android.launcher2.Launcher &#125; from pid 208</div><div class="line">         */</div><div class="line">        //跳转到主界面</div><div class="line">        Intent intent = new Intent();</div><div class="line">        intent.setAction(&quot;android.intent.action.MAIN&quot;);</div><div class="line">        intent.addCategory(&quot;android.intent.category.HOME&quot;);</div><div class="line">        startActivity(intent);</div><div class="line">        finish();</div><div class="line">    &#125;</div><div class="line">    return super.onKeyDown(keyCode, event);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<pre><code>4.不能给当前应用程序加锁
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">//判断如果是当前应用程序,就不要加锁</div><div class="line">    if (!appInfo.getPackagName().equals(getPackageName())) &#123;</div><div class="line">        watchDogDao.addLockApp(appInfo.getPackagName());</div><div class="line">        viewHolder.iv_itemsoftmanager_islock.setImageResource(R.drawable.lock);</div><div class="line">    &#125;else&#123;</div><div class="line">        Toast.makeText(getApplicationContext(), &quot;当前的应用程序不能加锁&quot;, 0).show();</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h2 id="解锁界面优化"><a href="#解锁界面优化" class="headerlink" title="解锁界面优化"></a>解锁界面优化</h2><pre><code>1.在服务跳转activity的操作中将加锁应用程序的包名传递给解锁界面
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Intent intent = new Intent(WatchDogService.this,WatchDogActivity.class);</div><div class="line">intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);</div><div class="line">intent.putExtra(&quot;packageName&quot;, packageName);</div><div class="line">startActivity(intent);</div></pre></td></tr></table></figure>
<pre><code>2.在解锁界面获取传递的数据,并通过包名获取图片和名称
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">//接受获取数据</div><div class="line">Intent intent = getIntent();</div><div class="line">packagename = intent.getStringExtra(&quot;packageName&quot;);</div><div class="line">//设置显示加锁的应用程序的图片和名称</div><div class="line">PackageManager pm = getPackageManager();</div><div class="line">try &#123;</div><div class="line">    ApplicationInfo applicationInfo = pm.getApplicationInfo(packagename, 0);</div><div class="line">    Drawable icon = applicationInfo.loadIcon(pm);</div><div class="line">    String name = applicationInfo.loadLabel(pm).toString();</div><div class="line">    //设置显示</div><div class="line">    iv_watchdog_icon.setImageDrawable(icon);</div><div class="line">    tv_watchdog_name.setText(name);</div><div class="line">&#125; catch (NameNotFoundException e) &#123;</div><div class="line">    e.printStackTrace();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<pre><code>3.解决,点击home最小,打开其他加锁程序,显示上一个加锁程序的图片和名称的bug
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">@Override</div><div class="line">protected void onStop() &#123;</div><div class="line">    super.onStop();</div><div class="line">    finish();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="解锁操作-重点-发送广播"><a href="#解锁操作-重点-发送广播" class="headerlink" title="解锁操作#  (重点:发送广播)"></a>解锁操作#  (重点:发送广播)</h2><pre><code>1.通过发送广播的方式,去给服务发送解锁信息
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">if (&quot;123&quot;.equals(password)) &#123;</div><div class="line">    //解锁</div><div class="line">    //一般通过广播的形式将信息发送给服务</div><div class="line">    Intent intent = new Intent();</div><div class="line">    intent.setAction(&quot;com.itheima.mobliesafe75.unlock&quot;);//自定义发送广播事件</div><div class="line">    intent.putExtra(&quot;packagename&quot;, packagename);</div><div class="line">    sendBroadcast(intent);</div><div class="line">    finish();</div><div class="line">&#125;else&#123;</div><div class="line">    Toast.makeText(getApplicationContext(), &quot;密码错误&quot;, 0).show();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<pre><code>2.在服务中,通过注册广播的形式实现接受信息并进行解锁操作
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">注册广播接受者</div><div class="line">    //注册解锁的广播接受者</div><div class="line">    //1.广播接受者</div><div class="line">    unlockCurrentReceiver = new UnlockCurrentReceiver();</div><div class="line">    //2.设置接受的广播事件</div><div class="line">    IntentFilter intentFilter = new IntentFilter();</div><div class="line">    intentFilter.addAction(&quot;com.itheima.mobliesafe75.unlock&quot;);</div></pre></td></tr></table></figure>
<pre><code>接受信息
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">private class UnlockCurrentReceiver extends BroadcastReceiver&#123;</div><div class="line">    </div><div class="line">    @Override</div><div class="line">    public void onReceive(Context context, Intent intent) &#123;</div><div class="line">        //解锁操作</div><div class="line">        unlockcurrentPackagname = intent.getStringExtra(&quot;packagename&quot;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<pre><code>解锁操作
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">//通过查询数据库,如果数据库中有,弹出解锁界面,没有不作处理</div><div class="line">if (watchDogDao.queryLockApp(packageName)) &#123;</div><div class="line">    if (!packageName.equals(unlockcurrentPackagname)) &#123;</div><div class="line">        //弹出解锁界面</div><div class="line">        Intent intent = new Intent(WatchDogService.this,WatchDogActivity.class);</div><div class="line">        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);</div><div class="line">        intent.putExtra(&quot;packageName&quot;, packageName);</div><div class="line">        startActivity(intent);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<pre><code>3.加锁操作,锁屏之后重新加锁
    a.注册锁屏的广播接受者
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">//注册锁屏的广播接受者</div><div class="line">screenOffReceiver = new ScreenOffReceiver();</div><div class="line">IntentFilter screenOffIntentFilter = new IntentFilter();</div><div class="line">screenOffIntentFilter.addAction(Intent.ACTION_SCREEN_OFF);</div><div class="line">registerReceiver(screenOffReceiver, screenOffIntentFilter);</div></pre></td></tr></table></figure>
<pre><code>b.在锁屏的广播接受者中将包名表示设置为null,表示加锁操作
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">private class  ScreenOffReceiver extends BroadcastReceiver&#123;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    public void onReceive(Context context, Intent intent) &#123;</div><div class="line">        //加锁的操作</div><div class="line">        unlockcurrentPackagname = null;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="两个bug解决方案-重点-启动模式"><a href="#两个bug解决方案-重点-启动模式" class="headerlink" title="两个bug解决方案#  (重点:启动模式)"></a>两个bug解决方案#  (重点:启动模式)</h2><pre><code>1.启动模式
</code></pre><figure class="highlight plain"><figcaption><span>android:name=".WatchDogActivity"</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">    android:launchMode=&quot;singleInstance&quot;</div><div class="line">    &gt;&lt;/activity&gt;</div><div class="line">&lt;!-- </div><div class="line">    standard : 标准的启动模式</div><div class="line">    singleTop : 如果activity在栈顶,直接使用</div><div class="line">    singleTask : 如果任务栈中有activity的,之前的activity删除,将activity置顶</div><div class="line">    singleInstance : 将activity单独存放一个任务栈中</div><div class="line"> --&gt;</div></pre></td></tr></table></figure>
<pre><code>2.从最近列表中删除手机卫士应用
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">android:excludeFromRecents=&quot;true&quot;</div><div class="line">excludeFromRecents : 是否在最近列表中显示    true:不显示      false:显示,只有设置这个属性的activity运行了,这个属性才会生效</div></pre></td></tr></table></figure>
<h2 id="数据库优化-重点-内容观察者"><a href="#数据库优化-重点-内容观察者" class="headerlink" title="数据库优化#  (重点:内容观察者)"></a>数据库优化#  (重点:内容观察者)</h2><pre><code>1.当数据库发生变化,通知内容观察者进行更新数据,在数据库操作中,比如添加,删除
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//通知内容观察者数据库变化了</div><div class="line">ContentResolver contentResolver = context.getContentResolver();</div><div class="line">//因为是我们自己的数据发生变化了,所以我们要自定义一个uri进行操作</div><div class="line">Uri uri = Uri.parse(&quot;content://com.itheima.mobliesafe75.lock.changed&quot;);</div><div class="line">//通知内容观察者数据发生变化了</div><div class="line">contentResolver.notifyChange(uri, null);</div></pre></td></tr></table></figure>
<pre><code>2.使用内容观察者进行数据更新操作
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">//先将数据库中的数据,查询存放到内存,然后再把数据从内存中获取出来进行操作</div><div class="line"></div><div class="line">//当数据库变化的时候重新更新内存中的数据,当数据库变化的时候通知内容观察者数据库变化了,然后在内容观察者中去更新最新的数据</div><div class="line">Uri uri = Uri.parse(&quot;content://com.itheima.mobliesafe75.lock.changed&quot;);</div><div class="line">//notifyForDescendents:匹配规则,true:精确匹配  false:模糊匹配</div><div class="line">getContentResolver().registerContentObserver(uri, true, new ContentObserver(null) &#123;</div><div class="line">    public void onChange(boolean selfChange) &#123;</div><div class="line">        //更新数据</div><div class="line">        list = watchDogDao.querAllLockApp();</div><div class="line">    &#125;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<pre><code>3.使用内存中的数据,使用list集合中的数据
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">//判断list集合中是否包含包名</div><div class="line">boolean b = list.contains(packageName);</div><div class="line">//通过查询数据库,如果数据库中有,弹出解锁界面,没有不作处理</div><div class="line">if (b) &#123;</div><div class="line">    if (!packageName.equals(unlockcurrentPackagname)) &#123;</div><div class="line">        //弹出解锁界面</div><div class="line">        Intent intent = new Intent(WatchDogService.this,WatchDogActivity.class);</div><div class="line">        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);</div><div class="line">        intent.putExtra(&quot;packageName&quot;, packageName);</div><div class="line">        startActivity(intent);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="获取短信"><a href="#获取短信" class="headerlink" title="获取短信"></a>获取短信</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 获取短信</div><div class="line"> */</div><div class="line">public static void getAllSMS(Context context)&#123;</div><div class="line">    //1.获取内容解析者</div><div class="line">    ContentResolver resolver = context.getContentResolver();</div><div class="line">    //2.获取内容提供者地址   sms,sms表的地址:null  不写</div><div class="line">    //3.获取查询路径</div><div class="line">    Uri uri = Uri.parse(&quot;content://sms&quot;);</div><div class="line">    //4.查询操作</div><div class="line">    //projection : 查询的字段</div><div class="line">    //selection : 查询的条件</div><div class="line">    //selectionArgs : 查询条件的参数</div><div class="line">    //sortOrder : 排序</div><div class="line">    Cursor cursor = resolver.query(uri, new String[]&#123;&quot;address&quot;,&quot;date&quot;,&quot;type&quot;,&quot;body&quot;&#125;, null, null, null);</div><div class="line">    //5.解析cursor</div><div class="line">    while(cursor.moveToNext())&#123;</div><div class="line">        String address = cursor.getString(0);</div><div class="line">        String date = cursor.getString(1);</div><div class="line">        String type = cursor.getString(2);</div><div class="line">        String body = cursor.getString(3);</div><div class="line">        System.out.println(&quot;address:&quot;+address+&quot;   date:&quot;+date+&quot;  type:&quot;+type+&quot;  body:&quot;+body);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<pre><code>权限
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;uses-permission android:name=&quot;android.permission.READ_SMS&quot;/&gt;</div><div class="line">&lt;uses-permission android:name=&quot;android.permission.WRITE_SMS&quot;/&gt;</div></pre></td></tr></table></figure>
<h2 id="备份短信-重点-创建xml文件"><a href="#备份短信-重点-创建xml文件" class="headerlink" title="备份短信#  (重点:创建xml文件)"></a>备份短信#  (重点:创建xml文件)</h2><pre><code>1.数据库
2.文件   xml
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 获取短信</div><div class="line"> */</div><div class="line">public static void getAllSMS(Context context)&#123;</div><div class="line">    //1.获取短信</div><div class="line">    //1.1获取内容解析者</div><div class="line">    ContentResolver resolver = context.getContentResolver();</div><div class="line">    //1.2获取内容提供者地址   sms,sms表的地址:null  不写</div><div class="line">    //1.3获取查询路径</div><div class="line">    Uri uri = Uri.parse(&quot;content://sms&quot;);</div><div class="line">    //1.4.查询操作</div><div class="line">    //projection : 查询的字段</div><div class="line">    //selection : 查询的条件</div><div class="line">    //selectionArgs : 查询条件的参数</div><div class="line">    //sortOrder : 排序</div><div class="line">    Cursor cursor = resolver.query(uri, new String[]&#123;&quot;address&quot;,&quot;date&quot;,&quot;type&quot;,&quot;body&quot;&#125;, null, null, null);</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line">    //2.备份短信</div><div class="line">    //2.1获取xml序列器</div><div class="line">    XmlSerializer xmlSerializer = Xml.newSerializer();</div><div class="line">    try &#123;</div><div class="line">        //2.2设置xml文件保存的路径</div><div class="line">        //os : 保存的位置</div><div class="line">        //encoding : 编码格式</div><div class="line">        xmlSerializer.setOutput(new FileOutputStream(new File(&quot;/mnt/sdcard/backupsms.xml&quot;)), &quot;utf-8&quot;);</div><div class="line">        //2.3设置头信息</div><div class="line">        //standalone : 是否独立保存</div><div class="line">        xmlSerializer.startDocument(&quot;utf-8&quot;, true);</div><div class="line">        //2.4设置根标签</div><div class="line">        xmlSerializer.startTag(null, &quot;smss&quot;);</div><div class="line">        //1.5.解析cursor</div><div class="line">        while(cursor.moveToNext())&#123;</div><div class="line">            //2.5设置短信的标签</div><div class="line">            xmlSerializer.startTag(null, &quot;sms&quot;);</div><div class="line">            //2.6设置文本内容的标签</div><div class="line">            xmlSerializer.startTag(null, &quot;address&quot;);</div><div class="line">            String address = cursor.getString(0);</div><div class="line">            //2.7设置文本内容</div><div class="line">            xmlSerializer.text(address);</div><div class="line">            xmlSerializer.endTag(null, &quot;address&quot;);</div><div class="line">            </div><div class="line">            xmlSerializer.startTag(null, &quot;date&quot;);</div><div class="line">            String date = cursor.getString(1);</div><div class="line">            xmlSerializer.text(date);</div><div class="line">            xmlSerializer.endTag(null, &quot;date&quot;);</div><div class="line">            </div><div class="line">            xmlSerializer.startTag(null, &quot;type&quot;);</div><div class="line">            String type = cursor.getString(2);</div><div class="line">            xmlSerializer.text(type);</div><div class="line">            xmlSerializer.endTag(null, &quot;type&quot;);</div><div class="line">            </div><div class="line">            xmlSerializer.startTag(null, &quot;body&quot;);</div><div class="line">            String body = cursor.getString(3);</div><div class="line">            xmlSerializer.text(body);</div><div class="line">            xmlSerializer.endTag(null, &quot;body&quot;);</div><div class="line">            </div><div class="line">            xmlSerializer.endTag(null, &quot;sms&quot;);</div><div class="line">            System.out.println(&quot;address:&quot;+address+&quot;   date:&quot;+date+&quot;  type:&quot;+type+&quot;  body:&quot;+body);</div><div class="line">            </div><div class="line">        &#125;</div><div class="line">        xmlSerializer.endTag(null, &quot;smss&quot;);</div><div class="line">        xmlSerializer.endDocument();</div><div class="line">        //2.8将数据刷新到文件中</div><div class="line">        xmlSerializer.flush();</div><div class="line">    &#125; catch (Exception e) &#123;</div><div class="line">        // TODO Auto-generated catch block</div><div class="line">        e.printStackTrace();</div><div class="line">    &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="备份效果-重点-progressdialog-回调函数"><a href="#备份效果-重点-progressdialog-回调函数" class="headerlink" title="备份效果#  (重点:progressdialog+回调函数)"></a>备份效果#  (重点:progressdialog+回调函数)</h2><pre><code>1.progerssdialog
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">//progressdialog是可以在子线程中更新</div><div class="line">progressDialog = new ProgressDialog(this);</div><div class="line">progressDialog.setCancelable(false);//不能取消</div><div class="line">progressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);</div><div class="line">/*progressDialog.setMax(max);//设置最大进度</div><div class="line">progressDialog.setProgress(value);//设置当前进度</div><div class="line">*/progressDialog.show();</div></pre></td></tr></table></figure>
<pre><code>2.使用progerssbar
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">progerssbar.setMax(max);//设置最大进度</div><div class="line">progerssbar.setProgress(value)</div></pre></td></tr></table></figure>
<pre><code>回调函数
    1.创建刷子
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">public interface ShowProgress&#123;</div><div class="line">    //设置最大进度</div><div class="line">    public void setMax(int max);</div><div class="line">    //设置当前进度</div><div class="line">    public void setProgress(int progerss);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<pre><code>2.媳妇儿给你刷子
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">public static void getAllSMS(Context context,ShowProgress showProgress)&#123;</div><div class="line">        </div><div class="line">    //设置最大进度</div><div class="line">    int count = cursor.getCount();//获取短信的个数</div><div class="line">    showProgress.setMax(count);</div><div class="line"></div><div class="line"></div><div class="line">    //设置当前进度</div><div class="line">    progress++;</div><div class="line">    showProgress.setProgress(progress);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<pre><code>3.我们接受刷子,进行刷牙,刷鞋,刷马桶.....
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">SMSEngine.getAllSMS(getApplicationContext(),new ShowProgress() &#123;</div><div class="line">    </div><div class="line">    @Override</div><div class="line">    public void setProgress(int progerss) &#123;</div><div class="line">        //progressDialog.setProgress(progerss);</div><div class="line">        pb_atools_sms.setProgress(progerss);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    @Override</div><div class="line">    public void setMax(int max) &#123;</div><div class="line">        //progressDialog.setMax(max);</div><div class="line">        pb_atools_sms.setMax(max);</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="短信还原"><a href="#短信还原" class="headerlink" title="短信还原"></a>短信还原</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 短信还原</div><div class="line"> * @param v</div><div class="line"> */</div><div class="line">public void restoresms(View v)&#123;</div><div class="line">    //解析xml</div><div class="line">    //XmlPullParser xmlPullParser = Xml.newPullParser();</div><div class="line">    //插入短信</div><div class="line">    ContentResolver resolver = getContentResolver();</div><div class="line">    Uri uri = Uri.parse(&quot;content://sms&quot;);</div><div class="line">    ContentValues values = new ContentValues();</div><div class="line">    values.put(&quot;address&quot;, &quot;95588&quot;);</div><div class="line">    values.put(&quot;date&quot;, System.currentTimeMillis());</div><div class="line">    values.put(&quot;type&quot;, 1);</div><div class="line">    values.put(&quot;body&quot;, &quot;zhuan zhang le $10000000000000000000&quot;);</div><div class="line">    resolver.insert(uri, values);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="可扩展的listview"><a href="#可扩展的listview" class="headerlink" title="可扩展的listview"></a>可扩展的listview</h2><pre><code>1.布局文件中
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;ExpandableListView </div><div class="line">android:id=&quot;@+id/exlitview&quot;</div><div class="line">android:layout_width=&quot;match_parent&quot;</div><div class="line">android:layout_height=&quot;match_parent&quot;</div><div class="line">&gt;&lt;/ExpandableListView&gt;</div></pre></td></tr></table></figure>
<pre><code>2.使用
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div></pre></td><td class="code"><pre><div class="line">exlitview = (ExpandableListView) findViewById(R.id.exlitview);</div><div class="line">exlitview.setAdapter(new MyAdapter());</div><div class="line">private class MyAdapter extends BaseEx`pandableListAdapter&#123;</div><div class="line">        //获取组的个数</div><div class="line">        @Override</div><div class="line">        public int getGroupCount() &#123;</div><div class="line">            // TODO Auto-generated method stub</div><div class="line">            return 8;</div><div class="line">        &#125;</div><div class="line">        //获取每组孩子的个数</div><div class="line">        @Override</div><div class="line">        public int getChildrenCount(int groupPosition) &#123;</div><div class="line">            // TODO Auto-generated method stub</div><div class="line">            return groupPosition+1;</div><div class="line">        &#125;</div><div class="line">        //设置组对应的相应的信息</div><div class="line">        @Override</div><div class="line">        public Object getGroup(int groupPosition) &#123;</div><div class="line">            // TODO Auto-generated method stub</div><div class="line">            return null;</div><div class="line">        &#125;</div><div class="line">        //设置每组孩子对应的信息</div><div class="line">        //groupPosition ：组的位置</div><div class="line">        //childPosition : 孩子的位置</div><div class="line">        @Override</div><div class="line">        public Object getChild(int groupPosition, int childPosition) &#123;</div><div class="line">            // TODO Auto-generated method stub</div><div class="line">            return null;</div><div class="line">        &#125;</div><div class="line">        //获取组的id</div><div class="line">        @Override</div><div class="line">        public long getGroupId(int groupPosition) &#123;</div><div class="line">            // TODO Auto-generated method stub</div><div class="line">            return 0;</div><div class="line">        &#125;</div><div class="line">        //获取每组孩子的id</div><div class="line">        @Override</div><div class="line">        public long getChildId(int groupPosition, int childPosition) &#123;</div><div class="line">            // TODO Auto-generated method stub</div><div class="line">            return 0;</div><div class="line">        &#125;</div><div class="line">        //获取id是否稳定,有没有设置id,有设置,返回true,没有设置返回false</div><div class="line">        @Override</div><div class="line">        public boolean hasStableIds() &#123;</div><div class="line">            // TODO Auto-generated method stub</div><div class="line">            return false;</div><div class="line">        &#125;</div><div class="line">        //设置组的样式</div><div class="line">        @Override</div><div class="line">        public View getGroupView(int groupPosition, boolean isExpanded,</div><div class="line">                View convertView, ViewGroup parent) &#123;</div><div class="line">            TextView textView = new TextView(getApplicationContext());</div><div class="line">            textView.setText(&quot;         我是第&quot;+groupPosition+&quot;组&quot;);</div><div class="line">            textView.setTextColor(Color.RED);</div><div class="line">            return textView;</div><div class="line">        &#125;</div><div class="line">        //设置每组孩子样式</div><div class="line">        @Override</div><div class="line">        public View getChildView(int groupPosition, int childPosition,</div><div class="line">                boolean isLastChild, View convertView, ViewGroup parent) &#123;</div><div class="line">            </div><div class="line">            TextView textView = new TextView(getApplicationContext());</div><div class="line">            textView.setText(&quot;我是第&quot;+groupPosition+&quot;组的第&quot;+childPosition+&quot;个孩子&quot;);</div><div class="line">            textView.setTextColor(Color.GREEN);</div><div class="line">            return textView;</div><div class="line">        &#125;</div><div class="line">        //设置孩子是否能够被点击,true:可以   false:不可以</div><div class="line">        @Override</div><div class="line">        public boolean isChildSelectable(int groupPosition, int childPosition) &#123;</div><div class="line">            // TODO Auto-generated method stub</div><div class="line">            return false;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h2 id="抽屉效果-重点"><a href="#抽屉效果-重点" class="headerlink" title="抽屉效果#  (重点)"></a>抽屉效果#  (重点)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">slidingmenu  第三方法框架</div><div class="line"></div><div class="line">1.SlidingDrawer</div><div class="line">    &lt;SlidingDrawer </div><div class="line">        android:layout_width=&quot;match_parent&quot;</div><div class="line">        android:layout_height=&quot;match_parent&quot;</div><div class="line">        android:handle=&quot;@+id/handle&quot;</div><div class="line">        android:content=&quot;@+id/content&quot;</div><div class="line">        android:orientation=&quot;vertical&quot;</div><div class="line">        &gt;</div><div class="line">        &lt;LinearLayout </div><div class="line">             android:id=&quot;@+id/handle&quot;</div><div class="line">            android:layout_width=&quot;wrap_content&quot;</div><div class="line">            android:layout_height=&quot;wrap_content&quot;</div><div class="line">            &gt;</div><div class="line">            &lt;ImageView </div><div class="line">            android:layout_width=&quot;wrap_content&quot;</div><div class="line">            android:layout_height=&quot;wrap_content&quot;</div><div class="line">            android:src=&quot;@drawable/shenmabg&quot;</div><div class="line">            /&gt;</div><div class="line">        &lt;/LinearLayout&gt;</div><div class="line">        &lt;LinearLayout </div><div class="line">            android:id=&quot;@+id/content&quot;</div><div class="line">            android:layout_width=&quot;match_parent&quot;</div><div class="line">            android:layout_height=&quot;match_parent&quot;</div><div class="line">            android:background=&quot;#ff0000&quot;</div><div class="line">            &gt;&lt;/LinearLayout&gt;</div><div class="line">    &lt;/SlidingDrawer&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">2.android.support.v4.widget.DrawerLayout</div><div class="line">    &lt;android.support.v4.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class="line">        android:layout_width=&quot;match_parent&quot;</div><div class="line">        android:layout_height=&quot;match_parent&quot;</div><div class="line">        android:orientation=&quot;vertical&quot; </div><div class="line">        android:id=&quot;@+id/dl&quot;</div><div class="line">        &gt;</div><div class="line">    </div><div class="line">       &lt;RelativeLayout </div><div class="line">           android:layout_width=&quot;match_parent&quot;</div><div class="line">           android:layout_height=&quot;match_parent&quot;</div><div class="line">           &gt;</div><div class="line">        &lt;TextView</div><div class="line">            android:id=&quot;@+id/textView1&quot;</div><div class="line">            android:layout_width=&quot;match_parent&quot;</div><div class="line">            android:layout_height=&quot;wrap_content&quot;</div><div class="line">            android:text=&quot;流量统计&quot; </div><div class="line">            android:background=&quot;#8866ff00&quot;</div><div class="line">            android:gravity=&quot;center_horizontal&quot;</div><div class="line">            android:textSize=&quot;22sp&quot;</div><div class="line">            android:paddingTop=&quot;5dp&quot;</div><div class="line">            android:paddingBottom=&quot;5dp&quot;</div><div class="line">            /&gt;</div><div class="line">        &lt;/RelativeLayout&gt;</div><div class="line">        &lt;!-- layout_gravity : 在布局中决定控件存在位置 --&gt;</div><div class="line">        &lt;LinearLayout </div><div class="line">            android:layout_width=&quot;match_parent&quot;</div><div class="line">            android:layout_height=&quot;match_parent&quot;</div><div class="line">            android:layout_gravity=&quot;right&quot;</div><div class="line">            android:background=&quot;#ff0000&quot;</div><div class="line">            &gt;&lt;/LinearLayout&gt;</div><div class="line">        &lt;LinearLayout </div><div class="line">            android:layout_width=&quot;match_parent&quot;</div><div class="line">            android:layout_height=&quot;match_parent&quot;</div><div class="line">            android:layout_gravity=&quot;left&quot;</div><div class="line">            android:background=&quot;#0000ff&quot;</div><div class="line">            &gt;&lt;/LinearLayout&gt;</div></pre></td></tr></table></figure>
<pre><code>代码中使用
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">        DrawerLayout dl = (DrawerLayout) findViewById(R.id.dl);</div><div class="line">//      dl.openDrawer(Gravity.RIGHT);//表示默认打开哪个方向布局</div><div class="line">        dl.openDrawer(Gravity.LEFT);</div></pre></td></tr></table></figure>

    

    
</div>


                

                <!-- Post Comments -->
                
                    




    <!-- 使用 DISQUS_CLICK -->
    <div id="disqus-comment">	
        <div id="disqus_thread"></div>
<!-- include js -->
<script src="/js/ripple.js"></script>

<!-- add animation -->
<style>
        .ripple-container {
        }
        .ripple-container .ripple{
            background-color: rgba(255,255,255,0.4);
            animation: ripple 2s forwards cubic-bezier(0, 0, 0.2, 1);
        }
        @keyframes ripple {
            0% {
                transform: scale(0);
                opacity: 1;
            }
            80% {
                transform: scale(1);
            }
            100% {
                opacity: 0;
            }
        }
		.disqus_click_btn {
            background-color: dodgerblue;
            color: white;
            padding: 10px 20px;
            border:0;
            font-size: 14px;
            cursor: pointer
        }
</style>
	
<!-- add data-ripple attribute -->
<div class="btn_click_load"> 
    <button class="disqus_click_btn" data-ripple>阅读评论 「请确保 disq.us &amp; disquscdn.com &amp; disqus.com 可以正常加载」</button>
</div>
	
<script>
    // add effect to elements
    Array.prototype.forEach.call(document.querySelectorAll('[data-ripple]'), function(element){
        // find all elements and attach effect
        new RippleEffect(element); // element is instance of javascript element node
    });
</script>

<script>
    $('.btn_click_load').click(function() {  //click to load comments
        var disqus_config = function () {
            this.page.url = 'http://miccall.tech/2017/01/19/android/android_012/index.html';  // Replace PAGE_URL with your page's canonical URL variable
            this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
        };
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document;
            var s = d.createElement('script');
            s.src = '//http-miccall-tech.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
        })();
        $('.btn_click_load').css('display','none');
    });
</script>
  	

    </div>
    <style>
        #disqus-comment{
            background-color: #eee;
            padding: 2pc;
        }
    </style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2017/01/19/android/android_013/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2017/01/19/android/android_011/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/preview.gif);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/BA201701210404530018-00-000000.png" alt="miccall's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        316459829@qq.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto:316459829@qq.com.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
                <li>
                    <a href="http://shang.qq.com/email/stop/email_stop.html?qq=316459829&amp;sig=a1c657365db7e82805ea4b2351081fc3ebcde159f8ae49b1&amp;tttt=1" target="_blank" title="腾讯 QQ">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">phone</i>
                        
                        腾讯 QQ
                    </a>
                </li>
            
                <li>
                    <a href="http://blog.csdn.net/qq_31411825" target="_blank" title="CSDN">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">user</i>
                        
                        CSDN
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/" target="_self">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2017/03/">三月 2017<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/02/">二月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/01/">一月 2017<span class="sidebar_archives-count">19</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    
        <li>
            <a href="/about/" title="About Me">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                About Me
            </a>
        </li>
        
    
        <li>
            <a href="/group/" title="About Group">
                
                    <i class="material-icons sidebar-material-icons">group</i>
                
                About Group
            </a>
        </li>
        
    
        <li>
            <a href="/gallery/" title="My Grally">
                
                    <i class="material-icons sidebar-material-icons">image</i>
                
                My Grally
            </a>
        </li>
        
    
        <li>
            <a href="/tag/" title="Tag">
                
                    <i class="material-icons sidebar-material-icons">expore</i>
                
                Tag
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;
            <script type="text/javascript">
                var fd = new Date();
                document.write(fd.getFullYear());
            </script>
            &nbsp;Mr.Metro
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import File -->
<script src="/js/lazyload.min.js"></script>
<script src="/js/js.min.js"></script>
<script src="/js/nprogress.js"></script>

<script type="text/javascript">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#FF4081'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #FF4081, 0 0 15px #FF4081'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#FF4081',
        'border-left-color': '#FF4081'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>



    <script src="/js/smoothscroll.js"></script>





    <!-- Busuanzi -->
    <script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>







<!-- Swiftye -->


<!-- Local Search-->


<!-- Window Load-->
<script>
    $(window).load(function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->


                </main>
            </div>
        </body>
    
</html>
