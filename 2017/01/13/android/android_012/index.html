<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.3.4 -->

    <!-- Title -->
    
    <title>
        
            Android学习笔记 012 | 
        
        Mr.Metro
    </title>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">
    
    
    
    
    
    
        <link rel="dns-prefetch" href="https://busuanzi.ibruce.info"/>
    

    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="miccall">
    <meta name="description" content="Blog of miccall is records about my work">
    <meta name="keywords" content="miccall,android">
    
    

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/logo_miccall.png">
    <link rel="icon" sizes="192x192" href="/img/logo_miccall.png">
    <link rel="apple-touch-icon" href="/img/logo_miccall.png">

    <!--iOS -->
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Mr.Metro">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://miccall.tech">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Android学习笔记 012 | Mr.Metro">
    <meta property="og:description" content="Blog of miccall is records about my work">
    <meta property="og:article:tag" content="android"> 

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>!function(){var e="http://"+location.host+"/combo?combo=";window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}},lsloader.removeLS=function(e){try{localStorage.removeItem(e)}catch(e){}},lsloader.setLS=function(e,t){try{localStorage.setItem(e,t)}catch(e){}},lsloader.getLS=function(e){var t="";try{t=localStorage.getItem(e)}catch(e){t=""}return t},lsloader.load=function(e,t,s){s=s||function(){};var n;if(n=this.getLS(e),!/\/\*codestartv1\*\//.test(n))return this.removeLS(e),void this.requestResource(e,t,s);if(n){var a=n.split("/*codestartv1*/")[0];if(a!=t)return console.log("reload:"+t),this.removeLS(e),void this.requestResource(e,t,s);n=n.split("/*codestartv1*/")[1],/\.js?.+$/.test(a)?(this.jsRunSequence.push({name:e,code:n}),this.runjs(t,e,n)):(document.getElementById(e).appendChild(document.createTextNode(n)),s())}else this.requestResource(e,t,s)},lsloader.requestResource=function(e,t,s){var n=this;/\.js?.+$/.test(t)?this.iojs(t,e,function(e,t,s){n.setLS(t,e+"/*codestartv1*/"+s),n.runjs(e,t,s)}):/\.css?.+$/.test(t)&&this.iocss(t,e,function(s){document.getElementById(e).appendChild(document.createTextNode(s)),n.setLS(e,t+"/*codestartv1*/"+s)},s)},lsloader.iojs=function(e,t,s){var n=this;n.jsRunSequence.push({name:t,code:""});try{var a=new XMLHttpRequest;a.open("get",e,!0),a.onreadystatechange=function(){if(4==a.readyState){if((a.status>=200&&a.status<300||304==a.status)&&""!=a.response)return void s(e,t,a.response);n.jsfallback(e,t)}},a.send(null)}catch(s){n.jsfallback(e,t)}},lsloader.iocss=function(e,t,s,n){var a=this;try{var u=new XMLHttpRequest;u.open("get",e,!0),u.onreadystatechange=function(){if(4==u.readyState){if((u.status>=200&&u.status<300||304==u.status)&&""!=u.response)return s(u.response),void n();a.cssfallback(e,t,n)}},u.send(null)}catch(s){a.cssfallback(e,t,n)}},lsloader.iofonts=function(e,t,s,n){var a=this;try{var u=new XMLHttpRequest;u.open("get",e,!0),u.onreadystatechange=function(){if(4==u.readyState){if((u.status>=200&&u.status<300||304==u.status)&&""!=u.response)return s(u.response),void n();a.cssfallback(e,t,n)}},u.send(null)}catch(s){a.cssfallback(e,t,n)}},lsloader.runjs=function(e,t,s){if(t&&s)for(var n in this.jsRunSequence)this.jsRunSequence[n].name==t&&(this.jsRunSequence[n].code=s);if(this.jsRunSequence[0]&&this.jsRunSequence[0].code&&"failed"!=this.jsRunSequence[0].status){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code)),a.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(a),this.jsRunSequence.shift(),this.jsRunSequence.length>0&&this.runjs()}else if(this.jsRunSequence[0]&&"failed"==this.jsRunSequence[0].status){var u=this,a=document.createElement("script");a.src=this.jsRunSequence[0].path,a.type="text/javascript",this.jsRunSequence[0].status="loading",a.onload=function(){u.jsRunSequence.shift(),u.jsRunSequence.length>0&&u.runjs()},document.body.appendChild(a)}},lsloader.tagLoad=function(e,t){this.jsRunSequence.push({name:t,code:"",path:e,status:"failed"}),this.runjs()},lsloader.jsfallback=function(e,t){if(!this.jsnamemap[t]){this.jsnamemap[t]=t;for(var s in this.jsRunSequence)this.jsRunSequence[s].name==t&&(this.jsRunSequence[s].code="",this.jsRunSequence[s].status="failed",this.jsRunSequence[s].path=e);this.runjs()}},lsloader.cssfallback=function(e,t,s){if(!this.cssnamemap[t]){this.cssnamemap[t]=1;var n=document.createElement("link");n.type="text/css",n.href=e,n.rel="stylesheet",n.onload=n.onerror=s;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a)}},lsloader.runInlineScript=function(e,t){var s=document.getElementById(t).innerText;this.jsRunSequence.push({name:e,code:s}),this.runjs()},lsloader.loadCombo=function(t){var s="",n={};for(var a in t){var u=this.getLS(t[a].name);if(u)var o=u.split("/*codestartv1*/")[0],c=u.split("/*codestartv1*/")[1];else var o="";o==t[a].path?this.jsRunSequence.push({name:t[a].name,code:c,path:t[a].path}):(this.jsRunSequence.push({name:t[a].name,code:null,path:t[a].path,status:"comboloading"}),n[t[a].name]=!0,s+=(""==s?"":";")+t[a].path)}var i=this;if(s){var r=new XMLHttpRequest;r.open("get",e+s,!0),r.onreadystatechange=function(){if(4==r.readyState)if(r.status>=200&&r.status<300||304==r.status){if(""!=r.response)return void i.runCombo(r.response,n)}else{for(var e in i.jsRunSequence)n[i.jsRunSequence[e].name]&&(i.jsRunSequence[e].status="failed");i.runjs()}},r.send(null)}this.runjs()},lsloader.runCombo=function(e,t){e=e.split("/*combojs*/"),e.shift();for(var s in this.jsRunSequence)t[this.jsRunSequence[s].name]&&e[0]&&(this.jsRunSequence[s].status="comboJS",this.jsRunSequence[s].code=e[0],this.setLS(this.jsRunSequence[s].name,this.jsRunSequence[s].path+"/*codestartv1*/"+e[0]),e.shift());this.runjs()}}();</script>

    <!-- Import CSS & jQuery -->
    
        <style id="css/material.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/material.min.css","/css/material.min.css?fJTiM/K1J3dWIruo3pxtAw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        <style id="css/style.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/style.min.css","/css/style.min.css?Vwvi0UKsWZkqwcl1aaIPhg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        <!-- Config CSS -->


<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
  }


    @font-face {
        font-family: 'Material Icons';
        font-style: normal;
        font-weight: 400;
        src: url(/fonts/MaterialIcons-Regular.eot);
        src: url(/fonts/MaterialIcons-Regular.woff2) format('woff2'), url(/fonts/MaterialIcons-Regular.woff) format('woff'), url(/fonts/MaterialIcons-Regular.ttf) format('truetype')
    }



    @font-face {
        font-family: 'FontAwesome';
        src: url(/fonts/fontawesome-webfont.eot?v=4.5.0);
        src: url(/fonts/fontawesome-webfont.eot?#iefix&v=4.5.0) format('embedded-opentype'), url(/fonts/fontawesome-webfont.woff2?v=4.5.0) format('woff2'), url(/fonts/fontawesome-webfont.woff?v=4.5.0) format('woff'), url(/fonts/fontawesome-webfont.ttf?v=4.5.0) format('truetype'), url(/fonts/fontawesome-webfont.svg?v=4.5.0#fontawesomeregular) format('svg');
        font-weight: 400;
        font-style: normal
    }
 

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #7EC0EE !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #7EC0EE !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #7EC0EE !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-image: url(/img/bg.png);
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


        <script>lsloader.load("js/jquery.min.js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==")</script>
        <script>lsloader.load("js/queue.min.js","/js/queue.min.js?FnfjxZSXVYqfU7c7cm3txg==")</script>
    

    

    

    <!-- Custom Head -->
    
<link rel="stylesheet" href="/css/prism-coy.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Android学习笔记"><span class="post-toc-number">1.</span> <span class="post-toc-text"> Android学习笔记 </span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#加锁解锁"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">加锁解锁</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#监听用户打开程序"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">监听用户打开程序</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#解锁界面优化"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">解锁界面优化</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#解锁操作-重点-发送广播"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">解锁操作#  (重点:发送广播)</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#两个bug解决方案-重点-启动模式"><span class="post-toc-number">1.5.</span> <span class="post-toc-text">两个bug解决方案#  (重点:启动模式)</span></a></li></ol></li></ol>

        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                Android学习笔记 012
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/BA201701210404530018-00-000000.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>miccall</strong>
        <span>1月 13, 2017</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
            <i class="material-icons" role="presentation">devices other</i>
            <span class="visuallyhidden">devices other</span>
        </button>
        <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
            <li class="mdl-menu__item">在其它设备中阅读本文章</li>
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACb0lEQVR42u3bQXLjMAwEQP//08kDvFFmQIrWpponHxRLrQNBD5DX159eLzw8PDw8PDw8vIfxXvF6v/76G97v8v75p2tmz4aHh4d3kvfLVltiEtj1K5g9Gx4eHt553nUxaP8qf8T8dUTPhoeHh/cwXs5IjtGz++Lh4eH9X7z1Y3dbcvDw8PCezMt/8K8fmpMw9wNZCx4eHl7MaxtgJz9/oL+Hh4eHd8lr12zjzuPdtsz84xvw8PDwbua1A1VJ3JCHDm3zLAqU8fDw8A7yop/68RjrbDggv/uGrAUPDw9vK68dSL3e3JPoNi9CGwoDHh4e3lZeu3HPBlWTUGM4/oWHh4d3M6/dmtuXkre4VgIRPDw8vPO8fPtuH6Xd3PMG2I/lBA8PD+84r930k+17Jeao2Xh4eHg385IW/sqxeNZCy+MJPDw8vPO89oHyODVvmLXxBx4eHt5neevtq/Xj9UqUHPX38PDw8G7grbejZnFDHjTkpQgPDw/vbl4SNERtp7hU5HdpD/p4eHh4Z3izIGBX/NqODkT3wsPDwzvIa8dM27GDJIBoi1BRGPDw8PA28ZJHaYtHHihE4UIc9eLh4eGd5LU3aw/BKxt9Hfji4eHh3czLN/TZlbNB2M0xLh4eHt5WXrvyVlbbKpsFwVHdw8PDw9vKe8Vr/UjdFo827MDDw8M7yWvj12SbbgcFVo7deHh4eJ/iJRt0e+XKi8uLEx4eHt6TeQl7diDOi009U4aHh4f3GF676belZTjahYeHh3eQ18YKK+3/egg1/9cCPDw8vCO8WRAw29Dzz+3wAR4eHt4Z3t9beHh4eHh4eHh4D1jff0ZAO/tbvIsAAAAASUVORK5CYII=">
        </ul>
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/android/">android</a>
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    
        
            <!-- Busuanzi Views -->
            <a class="post_share-link" href="#">
                <li class="mdl-menu__item">
                    <span id="busuanzi_container_page_pv">
                        <span id="busuanzi_value_page_pv"></span>&nbsp;浏览量
                    </span>
                </li>
            </a>
        
    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=Android学习笔记 012&url=http://miccall.tech//2017/01/13/android/android_012/index.html&pic=&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=Android学习笔记 012&url=http://miccall.tech//2017/01/13/android/android_012/index.html&via=miccall" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://miccall.tech//2017/01/13/android/android_012/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://miccall.tech//2017/01/13/android/android_012/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=Mr.Metro&title=Android学习笔记 012&summary=Blog of miccall is records about my work&pics=http://miccall.tech/img/logo_miccall.png&url=http://miccall.tech/2017/01/13/android/android_012/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <hr>
<h1 id="Android学习笔记"><a href="#Android学习笔记" class="headerlink" title=" Android学习笔记 "></a><strong> Android学习笔记 </strong></h1><h2 id="加锁解锁"><a href="#加锁解锁" class="headerlink" title="加锁解锁"></a>加锁解锁</h2><pre><code>1.在item的布局文件中增加imageview
2.在getview中判断是否加锁
</code></pre><pre><code>            //判断应用程序是加锁还是解锁
            if (watchDogDao.queryLockApp(appInfo.getPackagName())) {
                //加锁
                viewHolder.iv_itemsoftmanager_islock.setImageResource(R.drawable.lock);
            }else{
                //解锁
                viewHolder.iv_itemsoftmanager_islock.setImageResource(R.drawable.unlock);
            }
</code></pre><pre><code>3.使用长按点击事件实现加锁解锁
</code></pre><pre><code>        /**
         * 长按点击事件
         */
        private void listviewItemLongClick() {
            lv_softmanager_application.setOnItemLongClickListener(new OnItemLongClickListener() {

                @Override
                public boolean onItemLongClick(AdapterView&lt;?&gt; parent, View view,
                        int position, long id) {
                    System.out.println(&quot;长按点击事件&quot;);
                    //true if the callback consumed the long click, false otherwise
                    //true:表示执行  false:拦截
                    //加锁解锁的操作
                    //屏蔽用户和系统程序(..个)不能加锁解锁操作
                    if (position == 0 || position == userappinfo.size()+1) {
                        return true;
                    }
                    //获取数据
                    if (position &lt;= userappinfo.size()) {
                        //用户程序
                        appInfo = userappinfo.get(position-1);
                    }else{
                        //系统程序
                        appInfo = systemappinfo.get(position - userappinfo.size() - 2);
                    }
                    //加锁解锁
                    ViewHolder viewHolder = (ViewHolder) view.getTag();
                    //判断应用有没有加锁,有的解锁,没有的加锁
                    if (watchDogDao.queryLockApp(appInfo.getPackagName())) {
                        //解锁操作
                        watchDogDao.deleteLockApp(appInfo.getPackagName());
                        viewHolder.iv_itemsoftmanager_islock.setImageResource(R.drawable.unlock);
                    }else{
                        //加锁操作
                        watchDogDao.addLockApp(appInfo.getPackagName());
                        viewHolder.iv_itemsoftmanager_islock.setImageResource(R.drawable.lock);
                    }
                    //myadapter.notifyDataSetChanged();
                    return true;
                }
            });
        }
</code></pre><h2 id="监听用户打开程序"><a href="#监听用户打开程序" class="headerlink" title="监听用户打开程序"></a>监听用户打开程序</h2><pre><code>1.创创建解锁界面
2.在服务中,监听用户打开程序的操作中,通过查询数据库的方式判断打开的应用程序是否加锁
</code></pre><pre><code>                //通过查询数据库,如果数据库中有,弹出解锁界面,没有不作处理
                        if (watchDogDao.queryLockApp(packageName)) {
                            //弹出解锁界面
                            Intent intent = new Intent(WatchDogService.this,WatchDogActivity.class);
                            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
                            startActivity(intent);
                        }
</code></pre><pre><code>3.在解锁界面点击返回键,重复弹出解锁界面
</code></pre><pre><code>        @Override
        public boolean onKeyDown(int keyCode, KeyEvent event) {
            if (keyCode == KeyEvent.KEYCODE_BACK) {
                /**
                 * Starting: Intent { 
                   act=android.intent.action.MAIN 
                   cat=[android.intent.category.HOME
                   ] cmp=com.android.launcher/com.android.launcher2.Launcher } from pid 208
                 */
                //跳转到主界面
                Intent intent = new Intent();
                intent.setAction(&quot;android.intent.action.MAIN&quot;);
                intent.addCategory(&quot;android.intent.category.HOME&quot;);
                startActivity(intent);
                finish();
            }
            return super.onKeyDown(keyCode, event);
        }
</code></pre><pre><code>4.不能给当前应用程序加锁
</code></pre><pre><code>                //判断如果是当前应用程序,就不要加锁
                    if (!appInfo.getPackagName().equals(getPackageName())) {
                        watchDogDao.addLockApp(appInfo.getPackagName());
                        viewHolder.iv_itemsoftmanager_islock.setImageResource(R.drawable.lock);
                    }else{
                        Toast.makeText(getApplicationContext(), &quot;当前的应用程序不能加锁&quot;, 0).show();
                    }
</code></pre><h2 id="解锁界面优化"><a href="#解锁界面优化" class="headerlink" title="解锁界面优化"></a>解锁界面优化</h2><pre><code>1.在服务跳转activity的操作中将加锁应用程序的包名传递给解锁界面
</code></pre><pre><code>            Intent intent = new Intent(WatchDogService.this,WatchDogActivity.class);
            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
            intent.putExtra(&quot;packageName&quot;, packageName);
            startActivity(intent);
</code></pre><pre><code>2.在解锁界面获取传递的数据,并通过包名获取图片和名称
</code></pre><pre><code>        //接受获取数据
        Intent intent = getIntent();
        packagename = intent.getStringExtra(&quot;packageName&quot;);
        //设置显示加锁的应用程序的图片和名称
        PackageManager pm = getPackageManager();
        try {
            ApplicationInfo applicationInfo = pm.getApplicationInfo(packagename, 0);
            Drawable icon = applicationInfo.loadIcon(pm);
            String name = applicationInfo.loadLabel(pm).toString();
            //设置显示
            iv_watchdog_icon.setImageDrawable(icon);
            tv_watchdog_name.setText(name);
        } catch (NameNotFoundException e) {
            e.printStackTrace();
        }
</code></pre><pre><code>3.解决,点击home最小,打开其他加锁程序,显示上一个加锁程序的图片和名称的bug
</code></pre><pre><code>        @Override
        protected void onStop() {
            super.onStop();
            finish();
        }
</code></pre><h2 id="解锁操作-重点-发送广播"><a href="#解锁操作-重点-发送广播" class="headerlink" title="解锁操作#  (重点:发送广播)"></a>解锁操作#  (重点:发送广播)</h2><pre><code>1.通过发送广播的方式,去给服务发送解锁信息
</code></pre><pre><code>        if (&quot;123&quot;.equals(password)) {
            //解锁
            //一般通过广播的形式将信息发送给服务
            Intent intent = new Intent();
            intent.setAction(&quot;com.itheima.mobliesafe75.unlock&quot;);//自定义发送广播事件
            intent.putExtra(&quot;packagename&quot;, packagename);
            sendBroadcast(intent);
            finish();
        }else{
            Toast.makeText(getApplicationContext(), &quot;密码错误&quot;, 0).show();
        }
</code></pre><pre><code>2.在服务中,通过注册广播的形式实现接受信息并进行解锁操作
</code></pre><pre><code>        注册广播接受者
            //注册解锁的广播接受者
            //1.广播接受者
            unlockCurrentReceiver = new UnlockCurrentReceiver();
            //2.设置接受的广播事件
            IntentFilter intentFilter = new IntentFilter();
            intentFilter.addAction(&quot;com.itheima.mobliesafe75.unlock&quot;);
</code></pre><pre><code>    接受信息
</code></pre><pre><code>            private class UnlockCurrentReceiver extends BroadcastReceiver{

                @Override
                public void onReceive(Context context, Intent intent) {
                    //解锁操作
                    unlockcurrentPackagname = intent.getStringExtra(&quot;packagename&quot;);
                }
            }
</code></pre><pre><code>    解锁操作
</code></pre><pre><code>            //通过查询数据库,如果数据库中有,弹出解锁界面,没有不作处理
            if (watchDogDao.queryLockApp(packageName)) {
                if (!packageName.equals(unlockcurrentPackagname)) {
                    //弹出解锁界面
                    Intent intent = new Intent(WatchDogService.this,WatchDogActivity.class);
                    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
                    intent.putExtra(&quot;packageName&quot;, packageName);
                    startActivity(intent);
                }
            }
</code></pre><pre><code>3.加锁操作,锁屏之后重新加锁
    a.注册锁屏的广播接受者
</code></pre><pre><code>            //注册锁屏的广播接受者
            screenOffReceiver = new ScreenOffReceiver();
            IntentFilter screenOffIntentFilter = new IntentFilter();
            screenOffIntentFilter.addAction(Intent.ACTION_SCREEN_OFF);
            registerReceiver(screenOffReceiver, screenOffIntentFilter);
</code></pre><pre><code>    b.在锁屏的广播接受者中将包名表示设置为null,表示加锁操作
</code></pre><pre><code>            private class  ScreenOffReceiver extends BroadcastReceiver{

                @Override
                public void onReceive(Context context, Intent intent) {
                    //加锁的操作
                    unlockcurrentPackagname = null;
                }
            }
</code></pre><h2 id="两个bug解决方案-重点-启动模式"><a href="#两个bug解决方案-重点-启动模式" class="headerlink" title="两个bug解决方案#  (重点:启动模式)"></a>两个bug解决方案#  (重点:启动模式)</h2><pre><code>1.启动模式
</code></pre><p>```        &lt;activity android:name=”.WatchDogActivity”<br>            android:launchMode=”singleInstance”</p>
<pre><code>        &gt;&lt;/activity&gt;
    &lt;!-- 
        standard : 标准的启动模式
        singleTop : 如果activity在栈顶,直接使用
        singleTask : 如果任务栈中有activity的,之前的activity删除,将activity置顶
        singleInstance : 将activity单独存放一个任务栈中
     --&gt;
</code></pre><pre><code>
    2.从最近列表中删除手机卫士应用
</code></pre><pre><code>    android:excludeFromRecents=&quot;true&quot;
    excludeFromRecents : 是否在最近列表中显示    true:不显示      false:显示,只有设置这个属性的activity运行了,这个属性才会生效
</code></pre><pre><code>
## 数据库优化#  (重点:内容观察者)

    1.当数据库发生变化,通知内容观察者进行更新数据,在数据库操作中,比如添加,删除
</code></pre><pre><code>        //通知内容观察者数据库变化了
        ContentResolver contentResolver = context.getContentResolver();
        //因为是我们自己的数据发生变化了,所以我们要自定义一个uri进行操作
        Uri uri = Uri.parse(&quot;content://com.itheima.mobliesafe75.lock.changed&quot;);
        //通知内容观察者数据发生变化了
        contentResolver.notifyChange(uri, null);
</code></pre><pre><code>
    2.使用内容观察者进行数据更新操作
</code></pre><pre><code>            //先将数据库中的数据,查询存放到内存,然后再把数据从内存中获取出来进行操作

            //当数据库变化的时候重新更新内存中的数据,当数据库变化的时候通知内容观察者数据库变化了,然后在内容观察者中去更新最新的数据
            Uri uri = Uri.parse(&quot;content://com.itheima.mobliesafe75.lock.changed&quot;);
            //notifyForDescendents:匹配规则,true:精确匹配  false:模糊匹配
            getContentResolver().registerContentObserver(uri, true, new ContentObserver(null) {
                public void onChange(boolean selfChange) {
                    //更新数据
                    list = watchDogDao.querAllLockApp();
                };
            });
</code></pre><pre><code>
    3.使用内存中的数据,使用list集合中的数据
</code></pre><pre><code>                    //判断list集合中是否包含包名
                    boolean b = list.contains(packageName);
                    //通过查询数据库,如果数据库中有,弹出解锁界面,没有不作处理
                    if (b) {
                        if (!packageName.equals(unlockcurrentPackagname)) {
                            //弹出解锁界面
                            Intent intent = new Intent(WatchDogService.this,WatchDogActivity.class);
                            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
                            intent.putExtra(&quot;packageName&quot;, packageName);
                            startActivity(intent);
                        }
                    }
</code></pre><pre><code>
## 获取短信#
</code></pre><pre><code>/**
 * 获取短信
 */
public static void getAllSMS(Context context){
    //1.获取内容解析者
    ContentResolver resolver = context.getContentResolver();
    //2.获取内容提供者地址   sms,sms表的地址:null  不写
    //3.获取查询路径
    Uri uri = Uri.parse(&quot;content://sms&quot;);
    //4.查询操作
    //projection : 查询的字段
    //selection : 查询的条件
    //selectionArgs : 查询条件的参数
    //sortOrder : 排序
    Cursor cursor = resolver.query(uri, new String[]{&quot;address&quot;,&quot;date&quot;,&quot;type&quot;,&quot;body&quot;}, null, null, null);
    //5.解析cursor
    while(cursor.moveToNext()){
        String address = cursor.getString(0);
        String date = cursor.getString(1);
        String type = cursor.getString(2);
        String body = cursor.getString(3);
        System.out.println(&quot;address:&quot;+address+&quot;   date:&quot;+date+&quot;  type:&quot;+type+&quot;  body:&quot;+body);
    }
}
</code></pre><pre><code>
    权限
</code></pre><pre><code> &lt;uses-permission android:name=&quot;android.permission.READ_SMS&quot;/&gt;
 &lt;uses-permission android:name=&quot;android.permission.WRITE_SMS&quot;/&gt;
</code></pre><pre><code>
## 备份短信#  (重点:创建xml文件)

    1.数据库
    2.文件   xml
</code></pre><pre><code>/**
 * 获取短信
 */
public static void getAllSMS(Context context){
    //1.获取短信
    //1.1获取内容解析者
    ContentResolver resolver = context.getContentResolver();
    //1.2获取内容提供者地址   sms,sms表的地址:null  不写
    //1.3获取查询路径
    Uri uri = Uri.parse(&quot;content://sms&quot;);
    //1.4.查询操作
    //projection : 查询的字段
    //selection : 查询的条件
    //selectionArgs : 查询条件的参数
    //sortOrder : 排序
    Cursor cursor = resolver.query(uri, new String[]{&quot;address&quot;,&quot;date&quot;,&quot;type&quot;,&quot;body&quot;}, null, null, null);
</code></pre><pre><code>
</code></pre><pre><code>    //2.备份短信
    //2.1获取xml序列器
    XmlSerializer xmlSerializer = Xml.newSerializer();
    try {
        //2.2设置xml文件保存的路径
        //os : 保存的位置
        //encoding : 编码格式
        xmlSerializer.setOutput(new FileOutputStream(new File(&quot;/mnt/sdcard/backupsms.xml&quot;)), &quot;utf-8&quot;);
        //2.3设置头信息
        //standalone : 是否独立保存
        xmlSerializer.startDocument(&quot;utf-8&quot;, true);
        //2.4设置根标签
        xmlSerializer.startTag(null, &quot;smss&quot;);
        //1.5.解析cursor
        while(cursor.moveToNext()){
            //2.5设置短信的标签
            xmlSerializer.startTag(null, &quot;sms&quot;);
            //2.6设置文本内容的标签
            xmlSerializer.startTag(null, &quot;address&quot;);
            String address = cursor.getString(0);
            //2.7设置文本内容
            xmlSerializer.text(address);
            xmlSerializer.endTag(null, &quot;address&quot;);

            xmlSerializer.startTag(null, &quot;date&quot;);
            String date = cursor.getString(1);
            xmlSerializer.text(date);
            xmlSerializer.endTag(null, &quot;date&quot;);

            xmlSerializer.startTag(null, &quot;type&quot;);
            String type = cursor.getString(2);
            xmlSerializer.text(type);
            xmlSerializer.endTag(null, &quot;type&quot;);

            xmlSerializer.startTag(null, &quot;body&quot;);
            String body = cursor.getString(3);
            xmlSerializer.text(body);
            xmlSerializer.endTag(null, &quot;body&quot;);

            xmlSerializer.endTag(null, &quot;sms&quot;);
            System.out.println(&quot;address:&quot;+address+&quot;   date:&quot;+date+&quot;  type:&quot;+type+&quot;  body:&quot;+body);

        }
        xmlSerializer.endTag(null, &quot;smss&quot;);
        xmlSerializer.endDocument();
        //2.8将数据刷新到文件中
        xmlSerializer.flush();
    } catch (Exception e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } 
}
</code></pre><pre><code>## 备份效果#  (重点:progressdialog+回调函数)

    1.progerssdialog
</code></pre><pre><code>    //progressdialog是可以在子线程中更新
    progressDialog = new ProgressDialog(this);
    progressDialog.setCancelable(false);//不能取消
    progressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);
    /*progressDialog.setMax(max);//设置最大进度
    progressDialog.setProgress(value);//设置当前进度
    */progressDialog.show();
</code></pre><pre><code>
    2.使用progerssbar
</code></pre><pre><code>    progerssbar.setMax(max);//设置最大进度
    progerssbar.setProgress(value)
</code></pre><pre><code>
    回调函数
        1.创建刷子
</code></pre><pre><code>        public interface ShowProgress{
            //设置最大进度
            public void setMax(int max);
            //设置当前进度
            public void setProgress(int progerss);
        }
</code></pre><pre><code>        2.媳妇儿给你刷子
</code></pre><pre><code>        public static void getAllSMS(Context context,ShowProgress showProgress){

            //设置最大进度
            int count = cursor.getCount();//获取短信的个数
            showProgress.setMax(count);


            //设置当前进度
            progress++;
            showProgress.setProgress(progress);
        }
</code></pre><pre><code>
        3.我们接受刷子,进行刷牙,刷鞋,刷马桶.....
</code></pre><pre><code>            SMSEngine.getAllSMS(getApplicationContext(),new ShowProgress() {

                @Override
                public void setProgress(int progerss) {
                    //progressDialog.setProgress(progerss);
                    pb_atools_sms.setProgress(progerss);
                }

                @Override
                public void setMax(int max) {
                    //progressDialog.setMax(max);
                    pb_atools_sms.setMax(max);
                }
            }); 
</code></pre><pre><code>
## 短信还原#
</code></pre><pre><code>/**
 * 短信还原
 * @param v
 */
public void restoresms(View v){
    //解析xml
    //XmlPullParser xmlPullParser = Xml.newPullParser();
    //插入短信
    ContentResolver resolver = getContentResolver();
    Uri uri = Uri.parse(&quot;content://sms&quot;);
    ContentValues values = new ContentValues();
    values.put(&quot;address&quot;, &quot;95588&quot;);
    values.put(&quot;date&quot;, System.currentTimeMillis());
    values.put(&quot;type&quot;, 1);
    values.put(&quot;body&quot;, &quot;zhuan zhang le $10000000000000000000&quot;);
    resolver.insert(uri, values);
}
</code></pre><pre><code>## 可扩展的listview#

    1.布局文件中
</code></pre><pre><code>    &lt;ExpandableListView 
    android:id=&quot;@+id/exlitview&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;
    &gt;&lt;/ExpandableListView&gt;
</code></pre><pre><code>    2.使用
</code></pre><pre><code>    exlitview = (ExpandableListView) findViewById(R.id.exlitview);
    exlitview.setAdapter(new MyAdapter());
    private class MyAdapter extends BaseEx`pandableListAdapter{
            //获取组的个数
            @Override
            public int getGroupCount() {
                // TODO Auto-generated method stub
                return 8;
            }
            //获取每组孩子的个数
            @Override
            public int getChildrenCount(int groupPosition) {
                // TODO Auto-generated method stub
                return groupPosition+1;
            }
            //设置组对应的相应的信息
            @Override
            public Object getGroup(int groupPosition) {
                // TODO Auto-generated method stub
                return null;
            }
            //设置每组孩子对应的信息
            //groupPosition ：组的位置
            //childPosition : 孩子的位置
            @Override
            public Object getChild(int groupPosition, int childPosition) {
                // TODO Auto-generated method stub
                return null;
            }
            //获取组的id
            @Override
            public long getGroupId(int groupPosition) {
                // TODO Auto-generated method stub
                return 0;
            }
            //获取每组孩子的id
            @Override
            public long getChildId(int groupPosition, int childPosition) {
                // TODO Auto-generated method stub
                return 0;
            }
            //获取id是否稳定,有没有设置id,有设置,返回true,没有设置返回false
            @Override
            public boolean hasStableIds() {
                // TODO Auto-generated method stub
                return false;
            }
            //设置组的样式
            @Override
            public View getGroupView(int groupPosition, boolean isExpanded,
                    View convertView, ViewGroup parent) {
                TextView textView = new TextView(getApplicationContext());
                textView.setText(&quot;         我是第&quot;+groupPosition+&quot;组&quot;);
                textView.setTextColor(Color.RED);
                return textView;
            }
            //设置每组孩子样式
            @Override
            public View getChildView(int groupPosition, int childPosition,
                    boolean isLastChild, View convertView, ViewGroup parent) {

                TextView textView = new TextView(getApplicationContext());
                textView.setText(&quot;我是第&quot;+groupPosition+&quot;组的第&quot;+childPosition+&quot;个孩子&quot;);
                textView.setTextColor(Color.GREEN);
                return textView;
            }
            //设置孩子是否能够被点击,true:可以   false:不可以
            @Override
            public boolean isChildSelectable(int groupPosition, int childPosition) {
                // TODO Auto-generated method stub
                return false;
            }

        }
</code></pre><pre><code>## 抽屉效果#  (重点)
</code></pre><pre><code>slidingmenu  第三方法框架

1.SlidingDrawer
    &lt;SlidingDrawer 
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;match_parent&quot;
        android:handle=&quot;@+id/handle&quot;
        android:content=&quot;@+id/content&quot;
        android:orientation=&quot;vertical&quot;
        &gt;
        &lt;LinearLayout 
             android:id=&quot;@+id/handle&quot;
            android:layout_width=&quot;wrap_content&quot;
            android:layout_height=&quot;wrap_content&quot;
            &gt;
            &lt;ImageView 
            android:layout_width=&quot;wrap_content&quot;
            android:layout_height=&quot;wrap_content&quot;
            android:src=&quot;@drawable/shenmabg&quot;
            /&gt;
        &lt;/LinearLayout&gt;
        &lt;LinearLayout 
            android:id=&quot;@+id/content&quot;
            android:layout_width=&quot;match_parent&quot;
            android:layout_height=&quot;match_parent&quot;
            android:background=&quot;#ff0000&quot;
            &gt;&lt;/LinearLayout&gt;
    &lt;/SlidingDrawer&gt;
</code></pre><pre><code>
</code></pre><pre><code>2.android.support.v4.widget.DrawerLayout
    &lt;android.support.v4.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;match_parent&quot;
        android:orientation=&quot;vertical&quot; 
        android:id=&quot;@+id/dl&quot;
        &gt;

       &lt;RelativeLayout 
           android:layout_width=&quot;match_parent&quot;
           android:layout_height=&quot;match_parent&quot;
           &gt;
        &lt;TextView
            android:id=&quot;@+id/textView1&quot;
            android:layout_width=&quot;match_parent&quot;
            android:layout_height=&quot;wrap_content&quot;
            android:text=&quot;流量统计&quot; 
            android:background=&quot;#8866ff00&quot;
            android:gravity=&quot;center_horizontal&quot;
            android:textSize=&quot;22sp&quot;
            android:paddingTop=&quot;5dp&quot;
            android:paddingBottom=&quot;5dp&quot;
            /&gt;
        &lt;/RelativeLayout&gt;
        &lt;!-- layout_gravity : 在布局中决定控件存在位置 --&gt;
        &lt;LinearLayout 
            android:layout_width=&quot;match_parent&quot;
            android:layout_height=&quot;match_parent&quot;
            android:layout_gravity=&quot;right&quot;
            android:background=&quot;#ff0000&quot;
            &gt;&lt;/LinearLayout&gt;
        &lt;LinearLayout 
            android:layout_width=&quot;match_parent&quot;
            android:layout_height=&quot;match_parent&quot;
            android:layout_gravity=&quot;left&quot;
            android:background=&quot;#0000ff&quot;
            &gt;&lt;/LinearLayout&gt;
</code></pre><pre><code>
    代码中使用
</code></pre><pre><code>    DrawerLayout dl = (DrawerLayout) findViewById(R.id.dl);
</code></pre><p>//      dl.openDrawer(Gravity.RIGHT);//表示默认打开哪个方向布局<br>        dl.openDrawer(Gravity.LEFT);<br>```</p>

    

    
</div>


                

                <!-- Post Comments -->
                
                    






    <!-- 使用 DISQUS_CLICK -->
    <div id="disqus-comment">
        <div id="disqus_thread"></div>

<!-- add animation -->
<style>
	.disqus_click_btn {
            line-height: 30px;
            margin: 0;
            min-width: 50px;
            padding: 0 14px;
            display: inline-block;
            font-family: "Roboto", "Helvetica", "Arial", sans-serif;
            font-size: 14px;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0;
            overflow: hidden;
            will-change: box-shadow;
            transition: box-shadow .2s cubic-bezier(.4, 0, 1, 1), background-color .2s cubic-bezier(.4, 0, .2, 1), color .2s cubic-bezier(.4, 0, .2, 1);
            outline: 0;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            vertical-align: middle;
            border: 0;
            background: rgba(158, 158, 158, .2);
            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 3px 1px -2px rgba(0, 0, 0, .2), 0 1px 5px 0 rgba(0, 0, 0, .12);
            color: #fff;
            background-color: #757575;
            text-shadow: 0
        }
</style>
	
<div class="btn_click_load"> 
    <button class="disqus_click_btn">阅读评论（请确保 disqus 可以正常加载）</button>
</div>

<script type="text/ls-javascript" id="disqus-lazy-load-script">
    var disqus_config = function () {
        this.page.url = 'http://miccall.tech/2017/01/13/android/android_012/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://miccall.tech/2017/01/13/android/android_012/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    $('.btn_click_load').click(function() {  //click to load comments
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document;
            var s = d.createElement('script');
            s.src = '//http-miccall-tech.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
        })();
        $('.btn_click_load').css('display','none');
    });
</script>
  	

    </div>
    <style>
        #disqus-comment{
            background-color: #eee;
            padding: 2pc;
        }
    </style>




                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2017/01/14/android/android_013/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2017/01/12/android/android_011/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/preview.gif);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/BA201701210404530018-00-000000.png" alt="miccall's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        316459829@qq.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto:316459829@qq.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
                <li>
                    <a href="http://wpa.qq.com/msgrd?v=3&amp;uin=316459829&amp;site=qq&amp;menu=yes" target="_blank" title="腾讯 QQ">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">phone</i>
                        
                        腾讯 QQ
                    </a>
                </li>
            
                <li>
                    <a href="http://blog.csdn.net/qq_31411825" target="_blank" title="CSDN">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">user</i>
                        
                        CSDN
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/" rel="nofollow">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2017/04/">四月 2017<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/03/">三月 2017<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/02/">二月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/01/">一月 2017<span class="sidebar_archives-count">18</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/Algorithm/">Algorithm<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/Android/">Android<span class="sidebar_archives-count">13</span></a></li><li><a class="sidebar_archives-link" href="/categories/Leap-Motion/">Leap Motion<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/categories/unity-3d/">unity 3d<span class="sidebar_archives-count">3</span></a>
            </ul>
        </li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/about/" title="简历">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                简历
            </a>
        </li>
        
    
        <li>
            <a href="/group/" title="团队">
                
                    <i class="material-icons sidebar-material-icons">group</i>
                
                团队
            </a>
        </li>
        
    
        <li>
            <a href="/gallery/" title="图库">
                
                    <i class="material-icons sidebar-material-icons">image</i>
                
                图库
            </a>
        </li>
        
    
        <li>
            <a href="/tag/" title="标签">
                
                    <i class="material-icons sidebar-material-icons">dashboard</i>
                
                标签
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>Mr.Metro
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import File -->


    <script>lsloader.load("js/lazyload.min.js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==")</script>
    <script>lsloader.load("js/js.min.js","/js/js.min.js?y3mFBzHggMykAk6nhSWv/A==")</script>



    <script>lsloader.load("js/nprogress.js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==")</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#FF4081'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #FF4081, 0 0 15px #FF4081'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#FF4081',
        'border-left-color': '#FF4081'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>



    
        <script>lsloader.load("js/smoothscroll.js","/js/smoothscroll.js?lOy/ACj5suSNi7ZVFVbpFQ==")</script>
    





    <!-- Busuanzi -->
    <script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>










<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Window Load-->
<script type="text/ls-javascript" id="window-load">
    $(window).load(function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->

<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Bing Background -->


<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: canary | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
